{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\Inventory\\\\Po\\\\CashflowForm.js\";\n// HOOKS \nimport detectForm from '../../../hook/before/detectform';\nimport React, { Component } from 'react';\nimport { Row, Col, FormGroup, Input } from 'reactstrap';\nimport ViewModal from '../../../components/ViewModal';\nimport InputNumeral from '../../../components/InputNumeral';\nimport InputSuggest from '../../../components/InputSuggest';\nimport SelectList from '../../../components/SelectList';\nimport SelectListModel from '../../../components/SelectListModel';\nimport InputSuggestOrder from '../../../components/InputSuggestOrder';\n\nvar MyForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyForm, _Component);\n\n  function MyForm(props) {\n    var _this;\n\n    _classCallCheck(this, MyForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MyForm).call(this, props));\n    _this.state = {};\n    _this._onChange = _this._onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this._onSubmit = _this._onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MyForm, [{\n    key: \"_resetForm\",\n    value: function _resetForm() {\n      //alert(this.props.receiptType);\n      return {\n        from_type: '',\n        ref_code: '',\n        person_name: '',\n        person_address: '',\n        total: 0,\n        total_before: 0,\n        bill_account_id: 0,\n        bank_ref: '',\n        reason: '',\n        type: this.props.receiptType,\n        note: ''\n      };\n    }\n  }, {\n    key: \"_onSubmit\",\n    value: function _onSubmit() {\n      var _this2 = this;\n\n      var fields = ['from_type', 'ref_code', 'person_name', 'person_address', 'total', 'bill_account_id', 'reason'];\n\n      if (detectForm(fields, this.state) === '') {\n        var data = this.state;\n        this.model.axios(this.props.typeAction, data, function (res) {\n          _this2._whereStateChange(res);\n        });\n      }\n    }\n  }, {\n    key: \"_onChange\",\n    value: function _onChange(name, value) {\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // INIT ORDERS MODEL\n                this.model = this.props.model;\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"_whereStateChange\",\n    value: function _whereStateChange(res) {\n      if (res.name === 'success' || res.name === 'ok') {\n        this.props.onSubmitForm(res);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      if (JSON.stringify(newProps.data) !== '{}') {\n        var data = newProps.data;\n        console.log(data);\n        var supInfo = JSON.parse(data.supplier_info);\n\n        var state = this._resetForm();\n\n        Object.assign(state, {\n          from_type: 'po_code',\n          ref_code: data.code,\n          person_name: supInfo.name,\n          person_address: supInfo.address,\n          total: 0,\n          total_before: data.total_sum_vat\n        });\n        this.setState(state);\n      }\n    }\n  }, {\n    key: \"_getTitle\",\n    value: function _getTitle() {\n      var arrTitle = {\n        pt: 'Phiếu thu',\n        pc: 'Phiếu chi'\n      };\n      return arrTitle[this.props.receiptType] + ' từ đơn hàng : ' + this.props.data.code;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var title = this._getTitle();\n\n      return React.createElement(ViewModal, Object.assign({\n        name: title,\n        isFooter: true\n      }, this.props, {\n        onSubmit: this._onSubmit,\n        onToggle: function onToggle(isOpen) {\n          _this3.props.onToggle(isOpen);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"view-modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \" \\u0110\\u1ED1i t\\u01B0\\u1EE3ng \"), React.createElement(SelectList, {\n        disabled: true,\n        onChange: function onChange(e) {\n          _this3._onChange('from_type', e.target.value);\n        },\n        defaultValue: this.state.from_type,\n        id: \"from_type\",\n        name: \"Vui l\\xF2ng ch\\u1ECDn\",\n        rows: [{\n          code: 'inv_code',\n          name: 'Đơn hàng bán'\n        }, {\n          code: 'po_code',\n          name: 'Đơn hàng mua'\n        }, {\n          code: 'user_code',\n          name: 'Nhân viên'\n        }, {\n          code: 'other_code',\n          name: 'Khác'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \" \\u0110\\u01A1n h\\xE0ng \"), React.createElement(Input, {\n        disabled: true,\n        onChange: function onChange(e) {\n          _this3._onChange('ref_code', e.target.value);\n        },\n        defaultValue: this.state.ref_code,\n        type: \"text\",\n        id: \"ref_code\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \" T\\xEAn \\u0111\\u01A1n v\\u1ECB \"), React.createElement(Input, {\n        disabled: true,\n        defaultValue: this.state.person_name,\n        onChange: function onChange(e) {\n          _this3._onChange('person_name', e.target.value);\n        },\n        id: \"person_name\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \" \\u0110\\u1ECBa ch\\u1EC9 \"), React.createElement(Input, {\n        disabled: true,\n        defaultValue: this.state.person_address,\n        onChange: function onChange(e) {\n          _this3._onChange('person_address', e.target.value);\n        },\n        id: \"person_address\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      })))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"text-red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \" S\\u1ED1 ti\\u1EC1n \"), React.createElement(InputNumeral, {\n        defaultValue: this.state.total,\n        onChange: function onChange(value) {\n          _this3._onChange('total', value);\n        },\n        id: \"total\",\n        style: {\n          color: '#DD4B59'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \" Lo\\u1EA1i t\\xE0i kho\\u1EA3n \"), React.createElement(SelectListModel, {\n        id: \"bill_account_id\",\n        onChange: function onChange(e) {\n          _this3._onChange('bill_account_id', e.target.value);\n        },\n        name: \"Vui l\\xF2ng ch\\u1ECDn\",\n        strModel: \"bill_accounts\",\n        defaultValue: this.state.bill_account_id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \" K\\xE8m theo \"), React.createElement(Input, {\n        defaultValue: this.state.bank_ref,\n        onChange: function onChange(e) {\n          _this3._onChange('bank_ref', e.target.value);\n        },\n        id: \"bank_ref\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      })))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \" L\\xFD do  \"), React.createElement(Input, {\n        defaultValue: this.state.reason,\n        onChange: function onChange(e) {\n          _this3._onChange('reason', e.target.value);\n        },\n        id: \"reason\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"text-red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \" Gi\\xE1 tr\\u1ECB \\u0111\\u01A1n h\\xE0ng \"), React.createElement(InputNumeral, {\n        style: {\n          color: '#DD4B59'\n        },\n        defaultValue: this.state.total_before,\n        disabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Ghi ch\\xFA\"), React.createElement(Input, {\n        defaultValue: this.state.note,\n        id: \"note\",\n        onChange: function onChange(e) {\n          _this3._onChange('note', e.target.value);\n        },\n        style: {\n          height: 100\n        },\n        type: \"textarea\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return MyForm;\n}(Component);\n\nexport { MyForm as default };\nMyForm.defaultProps = {\n  receiptType: 'pt',\n  typeAction: 'post',\n  onToggle: function onToggle() {},\n  onSubmitForm: function onSubmitForm() {}\n};","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/Inventory/Po/CashflowForm.js"],"names":["detectForm","React","Component","Row","Col","FormGroup","Input","ViewModal","InputNumeral","InputSuggest","SelectList","SelectListModel","InputSuggestOrder","MyForm","props","state","_onChange","bind","_onSubmit","from_type","ref_code","person_name","person_address","total","total_before","bill_account_id","bank_ref","reason","type","receiptType","note","fields","data","model","axios","typeAction","res","_whereStateChange","name","value","setState","onSubmitForm","newProps","JSON","stringify","console","log","supInfo","parse","supplier_info","_resetForm","Object","assign","code","address","total_sum_vat","arrTitle","pt","pc","title","_getTitle","isOpen","onToggle","e","target","color","marginTop","height","defaultProps"],"mappings":"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","sourcesContent":["\r\n// HOOKS \r\nimport detectForm from '../../../hook/before/detectform';\r\n\r\nimport React, { Component } from 'react';\r\nimport {  Row, Col, FormGroup, Input  } from 'reactstrap';\r\n\r\n\r\nimport ViewModal from '../../../components/ViewModal'; \r\n\r\nimport InputNumeral from '../../../components/InputNumeral';\r\nimport InputSuggest from '../../../components/InputSuggest';\r\n\r\nimport SelectList from '../../../components/SelectList';\r\nimport SelectListModel from '../../../components/SelectListModel';\r\nimport InputSuggestOrder from '../../../components/InputSuggestOrder';\r\n\r\n\r\n\r\nexport default class MyForm extends Component {\r\n    \r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {}\r\n\r\n        this._onChange = this._onChange.bind(this) ; \r\n        this._onSubmit = this._onSubmit.bind(this);\r\n\r\n    }\r\n\r\n\r\n    _resetForm(){\r\n\r\n        //alert(this.props.receiptType);\r\n\r\n\r\n        return {\r\n          from_type:'',\r\n          ref_code:'',\r\n          person_name:'',\r\n          person_address:'',\r\n          total:0,\r\n          total_before:0,\r\n          bill_account_id:0,\r\n          bank_ref:'',\r\n          reason:'',\r\n          type:this.props.receiptType, \r\n          note:''\r\n\r\n        }\r\n    }\r\n      \r\n    _onSubmit(){  \r\n        const fields = [\r\n            'from_type','ref_code','person_name','person_address','total','bill_account_id','reason'\r\n        ];\r\n          \r\n        if(detectForm(fields,this.state)===''){\r\n            \r\n            const data = this.state ; \r\n            this.model.axios(this.props.typeAction,data,(res)=>{ \r\n                this._whereStateChange(res);               \r\n            });\r\n\r\n        }\r\n\r\n    }\r\n    \r\n    _onChange(name,value){\r\n        this.setState({ \r\n          [name]:value\r\n        });\r\n        \r\n    }\r\n    async componentDidMount(){\r\n        // INIT ORDERS MODEL\r\n        this.model =  this.props.model;  \r\n        \r\n        \r\n    }\r\n\r\n    _whereStateChange(res){\r\n\r\n        if(res.name==='success' || res.name ==='ok'){\r\n          this.props.onSubmitForm(res);\r\n        }\r\n        \r\n    }\r\n    componentWillReceiveProps(newProps){\r\n        \r\n        \r\n        if(JSON.stringify(newProps.data)!=='{}'){\r\n            const data = newProps.data;\r\n\r\n            console.log(data);\r\n            const supInfo = JSON.parse(data.supplier_info);\r\n\r\n            let state = this._resetForm();\r\n\r\n            Object.assign(state,{\r\n                from_type:'po_code',\r\n                ref_code:data.code,\r\n                person_name:supInfo.name,\r\n                person_address:supInfo.address,\r\n                total:0,\r\n                total_before:data.total_sum_vat\r\n            });\r\n\r\n            \r\n            this.setState(state);\r\n\r\n\r\n\r\n        }\r\n        \r\n  \r\n    }\r\n\r\n    _getTitle(){\r\n\r\n        const arrTitle = {\r\n            pt:'Phiếu thu',\r\n            pc:'Phiếu chi'\r\n        }\r\n        \r\n\r\n        return arrTitle[this.props.receiptType]+' từ đơn hàng : ' + this.props.data.code;\r\n    }\r\n    render() {\r\n\r\n        const title = this._getTitle();\r\n\r\n        return ( \r\n            <ViewModal name={title}  isFooter={true} {...this.props} onSubmit={this._onSubmit}  onToggle={(isOpen)=>{ this.props.onToggle(isOpen) }}>\r\n                <div className=\"view-modal-body\">\r\n                    <FormGroup>\r\n                        <Row>\r\n                            \r\n                            <Col md={4}> \r\n                                <label> Đối tượng </label>\r\n                                <SelectList \r\n                                    \r\n                                    disabled\r\n\r\n                                    onChange={(e)=>{ this._onChange('from_type',e.target.value) }} \r\n                                    defaultValue={ this.state.from_type } id=\"from_type\" name=\"Vui lòng chọn\"\r\n                                    \r\n                                    rows={[\r\n                                        {code:'inv_code',name:'Đơn hàng bán'},\r\n                                        {code:'po_code',name:'Đơn hàng mua'},\r\n                                        {code:'user_code',name:'Nhân viên'},\r\n                                        {code:'other_code',name:'Khác'},\r\n                                    ]} \r\n                                />\r\n                            </Col>\r\n\r\n                            <Col md={4}>\r\n                                <label> Đơn hàng </label>\r\n                                <Input disabled onChange={(e)=>{  this._onChange('ref_code',e.target.value) }} defaultValue={this.state.ref_code} type=\"text\" id=\"ref_code\" />\r\n                            </Col>\r\n                            \r\n                        </Row>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col md={4}>\r\n                                <label> Tên đơn vị </label>\r\n                                <Input disabled defaultValue={this.state.person_name} onChange={(e)=>{  this._onChange('person_name',e.target.value) }} id=\"person_name\" type=\"text\" />\r\n                            </Col>\r\n                            <Col md={8}>\r\n                                <label> Địa chỉ </label>\r\n                                <Input \r\n                                    disabled\r\n                                    defaultValue={this.state.person_address} \r\n                                    onChange={(e)=>{  this._onChange('person_address',e.target.value) }} id=\"person_address\" type=\"text\" \r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col md={4}>\r\n                                <label className=\"text-red\"> Số tiền </label>\r\n                                <InputNumeral defaultValue={this.state.total} onChange={(value)=>{  this._onChange('total',value) }} id=\"total\"  style={{color:'#DD4B59'}} />\r\n                            </Col>\r\n                            <Col md={4}>\r\n                                <label> Loại tài khoản </label>\r\n                                <SelectListModel id=\"bill_account_id\" \r\n                                    onChange={(e)=>{  this._onChange('bill_account_id',e.target.value) }} name=\"Vui lòng chọn\" strModel=\"bill_accounts\" \r\n                                    defaultValue={this.state.bill_account_id}\r\n                                />\r\n                            </Col>\r\n                            <Col md={4}> \r\n                                <label> Kèm theo </label>\r\n                                <Input defaultValue={this.state.bank_ref} onChange={(e)=>{  this._onChange('bank_ref',e.target.value) }} id=\"bank_ref\" type=\"text\" />\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col md={8}>\r\n                                <label> Lý do  </label>\r\n                                <Input defaultValue={this.state.reason} onChange={(e)=>{  this._onChange('reason',e.target.value) }} id=\"reason\" type=\"text\" />\r\n                            </Col>\r\n                            <Col md={4}>\r\n                                <label  className=\"text-red\"> Giá trị đơn hàng </label>\r\n                                <InputNumeral style={{color:'#DD4B59'}} defaultValue={ this.state.total_before } disabled />\r\n                            </Col>\r\n                        </Row>\r\n                        <Row style={{marginTop:20}}>\r\n                            <Col md={8}>\r\n                                <label>Ghi chú</label>\r\n                                <Input defaultValue={this.state.note} id=\"note\" onChange={(e)=>{  this._onChange('note',e.target.value) }} style={{height:100}} type=\"textarea\" />\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n\r\n\r\n                </div>\r\n            </ViewModal>\r\n        );\r\n    }\r\n}\r\n\r\nMyForm.defaultProps = {\r\n  receiptType:'pt',\r\n  typeAction:'post',\r\n  onToggle:()=>{},\r\n  onSubmitForm:()=>{}\r\n\r\n}"]},"metadata":{},"sourceType":"module"}