{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\Setting\\\\Notification\\\\index.js\";\n// HOOKS \nimport doLoadAll from '../../../hook/ultil/doLoadAll';\nimport doGetModelInfo from '../../../hook/ultil/doGetModelInfo';\nimport doUpdateModelInfo from '../../../hook/ultil/doUpdateModelInfo';\nimport React, { Component } from 'react';\nimport { Row, Col, FormGroup, Button } from 'reactstrap';\nimport Select from 'react-select';\nimport BenTabs from '../../../components/BenTabs';\n\nvar Notification =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Notification, _Component);\n\n  function Notification(props) {\n    var _this;\n\n    _classCallCheck(this, Notification);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Notification).call(this, props));\n    _this._onSubmit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var data, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              data = {\n                id: _this.state.id,\n                notification_setting: {\n                  orders: _this.state.orders,\n                  customers: _this.state.customers,\n                  inventories: _this.state.inventories,\n                  bills: _this.state.bills\n                }\n              };\n              _context.next = 3;\n              return doUpdateModelInfo('companies', data);\n\n            case 3:\n              res = _context.sent;\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.state = {\n      orders: null,\n      customers: null,\n      inventories: null,\n      bills: null,\n      onTab: 'order',\n      tabs: [{\n        icon: 'fa fa-slack',\n        code: 'order',\n        name: 'Đơn hàng'\n      }, {\n        icon: 'fa fa-users',\n        code: 'customer',\n        name: 'Khách hàng'\n      }, {\n        icon: 'fa fa-cubes',\n        code: 'inventory',\n        name: 'Phiếu Xuất/Nhập'\n      }, {\n        icon: 'fa fa-dollar ',\n        code: 'bill',\n        name: 'Phiếu Thu/Chi'\n      }],\n      users: []\n    };\n    return _this;\n  }\n\n  _createClass(Notification, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this._loadUser();\n\n                this._getCompanyInfo();\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"_loadUser\",\n    value: function () {\n      var _loadUser2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var res, users;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return doLoadAll('users');\n\n              case 2:\n                res = _context3.sent;\n\n                if (res.name === 'success') {\n                  users = [];\n                  res.rows.map(function (item) {\n                    users.push({\n                      value: item.email,\n                      label: item.name\n                    });\n                  });\n                  this.setState({\n                    users: users\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _loadUser() {\n        return _loadUser2.apply(this, arguments);\n      }\n\n      return _loadUser;\n    }()\n  }, {\n    key: \"_getCompanyInfo\",\n    value: function () {\n      var _getCompanyInfo2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        var res, notification_setting;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return doGetModelInfo('companies', window.USERINFO.company_id);\n\n              case 2:\n                res = _context4.sent;\n\n                if (res.name === 'success') {\n                  notification_setting = res.data.notification_setting || {\n                    orders: null,\n                    customers: null,\n                    inventories: null,\n                    bills: null\n                  };\n                  notification_setting = typeof notification_setting === 'string' ? JSON.parse(notification_setting) : notification_setting;\n                  this.setState({\n                    id: res.data.id,\n                    orders: notification_setting.orders,\n                    customers: notification_setting.customers,\n                    inventories: notification_setting.inventories,\n                    bills: notification_setting.bills\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function _getCompanyInfo() {\n        return _getCompanyInfo2.apply(this, arguments);\n      }\n\n      return _getCompanyInfo;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"animated fadeIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"main\", {\n        className: \"div-main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          padding: 30,\n          width: '81%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"text-uppercase\",\n        style: {\n          marginBottom: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \" Th\\xF4ng b\\xE1o \"), React.createElement(BenTabs, {\n        onChangeTab: function onChangeTab(code) {\n          _this2.setState({\n            onTab: code\n          });\n        },\n        tabs: this.state.tabs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tab-pane  \".concat(this.state.onTab === 'order' ? 'active' : '', \" \"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"txt-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \" \", React.createElement(\"i\", {\n        className: \"fa fa-slack mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), \" Ng\\u01B0\\u1EDDi nh\\u1EADn \"), React.createElement(Select, {\n        placeholder: \"Th\\xEAm ng\\u01B0\\u1EDDi nh\\u1EADn\",\n        isSearchable: true,\n        isMulti: true,\n        value: this.state.orders,\n        onChange: function onChange(option) {\n          _this2.setState({\n            orders: option\n          });\n        },\n        options: this.state.users,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        style: {\n          marginTop: 60\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this._onSubmit,\n        className: \"btn btn-normal bg-green \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa  fa-chevron-circle-right mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), \"  C\\u1EADp nh\\u1EADn\"))))), React.createElement(\"div\", {\n        className: \"tab-pane  \".concat(this.state.onTab === 'customer' ? 'active' : '', \" \"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"txt-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \" \", React.createElement(\"i\", {\n        className: \"fa fa-users mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), \" Ng\\u01B0\\u1EDDi nh\\u1EADn \"), React.createElement(Select, {\n        placeholder: \"Th\\xEAm ng\\u01B0\\u1EDDi nh\\u1EADn\",\n        isSearchable: true,\n        isMulti: true,\n        value: this.state.customers,\n        onChange: function onChange(option) {\n          _this2.setState({\n            customers: option\n          });\n        },\n        options: this.state.users,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        style: {\n          marginTop: 60\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this._onSubmit,\n        className: \"btn btn-normal bg-green \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa  fa-chevron-circle-right mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }), \"  C\\u1EADp nh\\u1EADn\"))))), React.createElement(\"div\", {\n        className: \"tab-pane  \".concat(this.state.onTab === 'inventory' ? 'active' : '', \" \"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"txt-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \" \", React.createElement(\"i\", {\n        className: \"fa fa-cubes mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }), \" Ng\\u01B0\\u1EDDi nh\\u1EADn \"), React.createElement(Select, {\n        placeholder: \"Th\\xEAm ng\\u01B0\\u1EDDi nh\\u1EADn\",\n        isSearchable: true,\n        isMulti: true,\n        value: this.state.inventories,\n        onChange: function onChange(option) {\n          _this2.setState({\n            inventories: option\n          });\n        },\n        options: this.state.users,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        style: {\n          marginTop: 60\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this._onSubmit,\n        className: \"btn btn-normal bg-green \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa  fa-chevron-circle-right mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }), \"  C\\u1EADp nh\\u1EADn\"))))), React.createElement(\"div\", {\n        className: \"tab-pane  \".concat(this.state.onTab === 'bill' ? 'active' : '', \" \"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"txt-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \" \", React.createElement(\"i\", {\n        className: \"fa fa-dollar mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }), \" Ng\\u01B0\\u1EDDi nh\\u1EADn \"), React.createElement(Select, {\n        placeholder: \"Th\\xEAm ng\\u01B0\\u1EDDi nh\\u1EADn\",\n        isSearchable: true,\n        isMulti: true,\n        value: this.state.bills,\n        onChange: function onChange(option) {\n          _this2.setState({\n            bills: option\n          });\n        },\n        options: this.state.users,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        style: {\n          marginTop: 60\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this._onSubmit,\n        className: \"btn btn-normal bg-green \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa  fa-chevron-circle-right mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }), \"  C\\u1EADp nh\\u1EADn\")))))))));\n    }\n  }]);\n\n  return Notification;\n}(Component);\n\nexport default Notification;","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/Setting/Notification/index.js"],"names":["doLoadAll","doGetModelInfo","doUpdateModelInfo","React","Component","Row","Col","FormGroup","Button","Select","BenTabs","Notification","props","_onSubmit","data","id","state","notification_setting","orders","customers","inventories","bills","res","onTab","tabs","icon","code","name","users","_loadUser","_getCompanyInfo","rows","map","item","push","value","email","label","setState","window","USERINFO","company_id","JSON","parse","padding","width","marginBottom","option","marginTop"],"mappings":"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","sourcesContent":["\r\n// HOOKS \r\nimport doLoadAll from '../../../hook/ultil/doLoadAll';\r\nimport doGetModelInfo from '../../../hook/ultil/doGetModelInfo';\r\nimport doUpdateModelInfo from '../../../hook/ultil/doUpdateModelInfo';\r\n\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, FormGroup, Button } from 'reactstrap';\r\n\r\n\r\nimport Select from 'react-select';\r\nimport BenTabs from '../../../components/BenTabs';\r\n\r\n\r\n\r\nclass Notification extends Component {\r\n\r\n\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n            orders: null,\r\n            customers:null,\r\n            inventories:null,\r\n            bills:null,\r\n\r\n            onTab:'order',\r\n            tabs:[\r\n                { icon:'fa fa-slack',code:'order',name:'Đơn hàng' },\r\n                { icon:'fa fa-users',code:'customer',name:'Khách hàng' },\r\n                { icon:'fa fa-cubes',code:'inventory',name:'Phiếu Xuất/Nhập' },\r\n                { icon:'fa fa-dollar ',code:'bill',name:'Phiếu Thu/Chi' },\r\n            ],\r\n            users:[]\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    async componentDidMount(){\r\n        this._loadUser();\r\n        this._getCompanyInfo();\r\n\r\n    }   \r\n\r\n    async _loadUser(){\r\n        const res = await doLoadAll('users');\r\n        if(res.name==='success'){\r\n\r\n            let users = [];\r\n            res.rows.map((item)=>{\r\n                \r\n                users.push({\r\n                    value:item.email,\r\n                    label:item.name\r\n                });\r\n\r\n            });\r\n            \r\n            this.setState({\r\n                users:users\r\n            });\r\n        }\r\n    }\r\n    async _getCompanyInfo(){\r\n        const res = await doGetModelInfo('companies',window.USERINFO.company_id);\r\n        \r\n        if(res.name==='success'){\r\n            let notification_setting = res.data.notification_setting || {\r\n                orders:null,\r\n                customers:null,\r\n                inventories:null,\r\n                bills:null\r\n            }; \r\n\r\n            notification_setting = typeof notification_setting === 'string' ? JSON.parse(notification_setting) : notification_setting;\r\n            \r\n\r\n\r\n            this.setState({\r\n                id:res.data.id,\r\n                orders:notification_setting.orders,\r\n                customers:notification_setting.customers,\r\n                inventories:notification_setting.inventories,\r\n                bills:notification_setting.bills\r\n            });\r\n            \r\n        }\r\n    }\r\n\r\n    _onSubmit = async () =>{\r\n        \r\n        const data = {\r\n\r\n            id:this.state.id,\r\n            notification_setting:{\r\n                orders:this.state.orders,\r\n                customers:this.state.customers,\r\n                inventories:this.state.inventories,\r\n                bills:this.state.bills\r\n            }\r\n        }\r\n        \r\n        const res =  await doUpdateModelInfo('companies',data) ;\r\n\r\n\r\n    }\r\n    \r\n    render() {\r\n\r\n        \r\n        return (\r\n            <div className=\"animated fadeIn\">\r\n                <main className=\"div-main\">\r\n                    <div style={{\r\n                        padding:30,\r\n                        width:'81%'\r\n                    }}>\r\n                        <h4 className=\"text-uppercase\" style={{marginBottom:20}}> Thông báo </h4>\r\n\r\n                        <BenTabs \r\n                            onChangeTab={(code)=>{ this.setState({onTab:code}) }} \r\n                            tabs={ this.state.tabs }\r\n                        >\r\n\r\n                            {/* TAB ORDER */}\r\n                            <div className={  `tab-pane  ${ this.state.onTab==='order'?'active':'' } ` }>\r\n                                <FormGroup>\r\n                                    <Row>\r\n                                        <Col md={12}>\r\n                                            <label className=\"txt-green\"> <i className=\"fa fa-slack mr-5\"></i> Người nhận </label>\r\n                                            <Select\r\n                                                placeholder=\"Thêm người nhận\"\r\n                                                isSearchable ={true}\r\n                                                isMulti ={true}\r\n                                                value={ this.state.orders }\r\n                                                onChange={(option)=>{ this.setState({ orders:option })  }} \r\n                                                options={this.state.users}\r\n                                            />\r\n\r\n                                        </Col>\r\n                                        \r\n                                    </Row>\r\n\r\n                                    <Row style={{marginTop:60}}>\r\n                                        <Col md={12}>\r\n                                            <Button onClick={ this._onSubmit } className=\"btn btn-normal bg-green \"> \r\n                                                <i className=\"fa  fa-chevron-circle-right mr-5\"></i>  Cập nhận \r\n                                            </Button>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </FormGroup>\r\n                            </div>\r\n                            {/* END TAB ORDERS */}\r\n\r\n                            {/* TAB CUSTOMERS */}\r\n                            <div className={  `tab-pane  ${ this.state.onTab==='customer'?'active':'' } ` }>\r\n                                <FormGroup>\r\n                                    <Row>\r\n                                        <Col md={12}>\r\n                                            <label className=\"txt-green\"> <i className=\"fa fa-users mr-5\"></i> Người nhận </label>\r\n                                            <Select\r\n                                                placeholder=\"Thêm người nhận\"\r\n                                                isSearchable ={true}\r\n                                                isMulti ={true}\r\n                                                value={ this.state.customers }\r\n                                                onChange={(option)=>{ this.setState({customers:option})  }} \r\n                                                options={this.state.users}\r\n                                            />\r\n\r\n                                        </Col>\r\n                                        \r\n                                    </Row>\r\n\r\n                                    <Row style={{marginTop:60}}>\r\n                                        <Col md={12}>\r\n                                            <Button onClick={ this._onSubmit } className=\"btn btn-normal bg-green \"> \r\n                                                <i className=\"fa  fa-chevron-circle-right mr-5\"></i>  Cập nhận \r\n                                            </Button>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </FormGroup>\r\n                            </div>\r\n                            {/* END TAB CUSTOMER */}\r\n\r\n                            {/* PHIEU NHAP/XUAT  */}\r\n                            <div className={  `tab-pane  ${ this.state.onTab==='inventory'?'active':'' } ` } >\r\n                                <FormGroup>\r\n                                    <Row>\r\n                                        <Col md={12}>\r\n                                            <label className=\"txt-green\"> <i className=\"fa fa-cubes mr-5\"></i> Người nhận </label>\r\n                                            <Select\r\n                                                placeholder=\"Thêm người nhận\"\r\n                                                isSearchable ={true}\r\n                                                isMulti ={true}\r\n                                                value={ this.state.inventories }\r\n                                                onChange={(option)=>{ this.setState({inventories:option})  }} \r\n                                                options={this.state.users}\r\n                                            />\r\n\r\n                                        </Col>\r\n                                        \r\n                                    </Row>\r\n\r\n                                    <Row style={{marginTop:60}}>\r\n                                        <Col md={12}>\r\n                                            <Button onClick={ this._onSubmit } className=\"btn btn-normal bg-green \"> \r\n                                                <i className=\"fa  fa-chevron-circle-right mr-5\"></i>  Cập nhận \r\n                                            </Button>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </FormGroup>\r\n                            </div>\r\n                            {/* END PHIEU NHAP / XUAT */}\r\n\r\n                            {/* PHIEU THU/CHI */}\r\n                            <div className={  `tab-pane  ${ this.state.onTab==='bill'?'active':'' } ` } >\r\n                                <FormGroup>\r\n                                    <Row>\r\n                                        <Col md={12}>\r\n                                            <label className=\"txt-green\"> <i className=\"fa fa-dollar mr-5\"></i> Người nhận </label>\r\n                                            <Select\r\n                                                placeholder=\"Thêm người nhận\"\r\n                                                isSearchable ={true}\r\n                                                isMulti ={true}\r\n                                                value={ this.state.bills }\r\n                                                onChange={(option)=>{ this.setState({bills:option})  }} \r\n                                                options={this.state.users}\r\n                                            />\r\n\r\n                                        </Col>\r\n                                        \r\n                                    </Row>\r\n\r\n                                    <Row style={{marginTop:60}}>\r\n                                        <Col md={12}>\r\n                                            <Button onClick={ this._onSubmit } className=\"btn btn-normal bg-green \"> \r\n                                                <i className=\"fa  fa-chevron-circle-right mr-5\"></i>  Cập nhận \r\n                                            </Button>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </FormGroup>\r\n                            </div>\r\n                            {/* END PHIEU THU CHI */}\r\n\r\n                        </BenTabs>\r\n                    </div>\r\n                </main>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Notification;"]},"metadata":{},"sourceType":"module"}