{"ast":null,"code":"import _defineProperty from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\Order\\\\Setting\\\\formulaPricePage\\\\Form.js\";\nimport React, { Component } from 'react';\nimport { Col, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport doUpdateModelInfo from '../../../../hook/ultil/doUpdateModelInfo';\nimport ViewModal from '../../../../components/ViewModal';\n\nvar MyForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyForm, _Component);\n\n  function MyForm(props) {\n    var _this;\n\n    _classCallCheck(this, MyForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MyForm).call(this, props));\n    _this._onSubmit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var data, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              data = {\n                id: _this.props.id,\n                price_setting: _this.state.price_setting\n              };\n              _context.next = 3;\n              return doUpdateModelInfo('companies', data);\n\n            case 3:\n              res = _context.sent;\n\n              if (res.name === 'success' || res.name === 'ok') {\n                _this.props.onSubmitForm(res);\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.state = {\n      price_setting: props.price_setting\n    };\n    return _this;\n  }\n\n  _createClass(MyForm, [{\n    key: \"_getTitle\",\n    value: function _getTitle(level) {\n      var arr = {\n        b: 'B. Giá Gốc',\n        c: 'C. Giá ĐL',\n        d: 'D. Giá Lẻ'\n      };\n      return arr[level];\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      this.setState({\n        price_setting: newProps.price_setting\n      });\n    }\n  }, {\n    key: \"_onChange\",\n    value: function _onChange(level, value) {\n      this.setState(Object.assign(this.state.price_setting, _defineProperty({}, level, value)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var title = this._getTitle(this.props.level);\n\n      var data = this.state.price_setting;\n      return React.createElement(ViewModal, Object.assign({\n        onSubmit: this._onSubmit,\n        isFooter: true,\n        name: title\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"view-modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \" C\\xF4ng th\\u1EE9c \"), React.createElement(InputGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(InputGroupAddon, {\n        addonType: \"prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(InputGroupText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \" =  \")), React.createElement(Input, {\n        type: \"text\",\n        onChange: function onChange(e) {\n          _this2._onChange(_this2.props.level, e.target.value);\n        },\n        defaultValue: data[this.props.level],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return MyForm;\n}(Component);\n\nMyForm.defaultProps = {\n  level: \"b\",\n  onSubmitForm: function onSubmitForm() {},\n  onChange: function onChange() {}\n};\nexport default MyForm;","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/Order/Setting/formulaPricePage/Form.js"],"names":["React","Component","Col","FormGroup","Input","InputGroup","InputGroupAddon","InputGroupText","doUpdateModelInfo","ViewModal","MyForm","props","_onSubmit","data","id","price_setting","state","res","name","onSubmitForm","level","arr","b","c","d","newProps","setState","value","Object","assign","title","_getTitle","e","_onChange","target","defaultProps","onChange"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport {  Col, FormGroup, Input, InputGroup,InputGroupAddon, InputGroupText  } from 'reactstrap';\r\nimport doUpdateModelInfo from '../../../../hook/ultil/doUpdateModelInfo'; \r\n\r\n\r\n\r\n\r\nimport ViewModal from '../../../../components/ViewModal';\r\n\r\nclass MyForm extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            price_setting:props.price_setting\r\n        }\r\n    }\r\n    \r\n    _getTitle(level){\r\n\r\n        const arr = {\r\n            b:'B. Giá Gốc',\r\n            c:'C. Giá ĐL',\r\n            d:'D. Giá Lẻ'\r\n        }\r\n\r\n        return arr[level]\r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n\r\n        this.setState({\r\n            price_setting:newProps.price_setting\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    _onChange(level,value){\r\n        \r\n\r\n        this.setState(Object.assign(this.state.price_setting,{\r\n            [level]:value\r\n        }));\r\n        \r\n    }\r\n\r\n    _onSubmit = async  ()=>{\r\n\r\n        const data = {\r\n            id:this.props.id,\r\n            price_setting:this.state.price_setting\r\n        }\r\n        const res =  await doUpdateModelInfo('companies',data) ;\r\n        \r\n        if(res.name==='success' || res.name==='ok'){\r\n            this.props.onSubmitForm(res)\r\n        }\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        const title = this._getTitle(this.props.level);\r\n        let data = this.state.price_setting\r\n\r\n        return (\r\n            <ViewModal onSubmit={ this._onSubmit } isFooter={true}  name={title} {...this.props}  >\r\n                <div className=\"view-modal-body\">\r\n                    <FormGroup row>\r\n                        <Col md={12}>\r\n                            <label> Công thức </label>\r\n                            <InputGroup>\r\n                                <InputGroupAddon addonType=\"prepend\">\r\n                                      <InputGroupText> =  </InputGroupText>\r\n                                </InputGroupAddon>\r\n                                <Input type=\"text\" onChange={(e)=>{ this._onChange(this.props.level,e.target.value) }} defaultValue={ data[this.props.level] } />\r\n                                    \r\n                            </InputGroup>\r\n\r\n                        </Col>\r\n                    </FormGroup>\r\n                </div>\r\n            </ViewModal>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nMyForm.defaultProps = {\r\n    level:\"b\",\r\n    onSubmitForm:()=>{},\r\n    onChange:()=>{}\r\n}\r\n\r\nexport default MyForm;"]},"metadata":{},"sourceType":"module"}