{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\Cashflow\\\\Setting\\\\ThuChi\\\\index.js\";\nimport { MAU_PHIEUCHI, MAU_PHIEUTHU } from '../../../../config/temp-code-thu-chi'; // HOOKS \n\nimport doUpdateModelInfo from '../../../../hook/ultil/doUpdateModelInfo';\nimport doGetModelInfo from '../../../../hook/ultil/doGetModelInfo';\nimport React, { Component } from 'react';\nimport { Row, Col, Label, Input, Button } from 'reactstrap';\nimport PreviewForm from './PreviewFrorm';\n\nvar ThuChi =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ThuChi, _Component);\n\n  function ThuChi(props) {\n    var _this;\n\n    _classCallCheck(this, ThuChi);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ThuChi).call(this, props));\n\n    _this._previewForm = function (type) {\n      _this.setState({\n        type: type,\n        isOpenForm: true\n      });\n    };\n\n    _this.state = {\n      tab: 'ThuChi',\n      phieuthu_temp: {},\n      phieuchi_temp: {},\n      type: 'phieuchi_temp',\n      // thu-chi\n      companyInfo: {},\n      isOpenForm: false\n    };\n    _this._onSubmit = _this._onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ThuChi, [{\n    key: \"_defaultTemplate\",\n    value: function _defaultTemplate(type) {\n      var arr = {\n        phieuchi_temp: MAU_PHIEUCHI,\n        phieuthu_temp: MAU_PHIEUTHU\n      };\n      this.setState(_defineProperty({}, type, arr[type]));\n    }\n  }, {\n    key: \"_onSubmit\",\n    value: function () {\n      var _onSubmit2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(field) {\n        var data, res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = {\n                  id: this.state.companyInfo.id,\n                  phieuchi_temp: this.state.phieuchi_temp,\n                  phieuthu_temp: this.state.phieuthu_temp\n                };\n                _context.next = 3;\n                return doUpdateModelInfo('companies', data);\n\n              case 3:\n                res = _context.sent;\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _onSubmit(_x) {\n        return _onSubmit2.apply(this, arguments);\n      }\n\n      return _onSubmit;\n    }()\n    /* WHEN*/\n\n    /* NHẬN lệnh : từ NEW PROPS TỪ BODY OBJECT*/\n\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function () {\n      var _componentWillReceiveProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(newProps) {\n        var resCompany, info;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(newProps.onTab === this.state.tab)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                _context2.next = 3;\n                return doGetModelInfo('companies', window.USERINFO.company_id);\n\n              case 3:\n                resCompany = _context2.sent;\n\n                if (resCompany.name === 'success') {\n                  info = resCompany.data;\n                  this.setState({\n                    companyInfo: info,\n                    phieuchi_temp: info.phieuchi_temp || MAU_PHIEUCHI,\n                    phieuthu_temp: info.phieuthu_temp || MAU_PHIEUTHU\n                  });\n                }\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentWillReceiveProps(_x2) {\n        return _componentWillReceiveProps.apply(this, arguments);\n      }\n\n      return componentWillReceiveProps;\n    }()\n    /* WHERE*/\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        hidden: this.props.onTab === this.state.tab ? false : true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(PreviewForm, {\n        width: \"60%\",\n        name: \"Xem tr\\u01B0\\u1EDBc\",\n        type: this.state.type,\n        isOpen: this.state.isOpenForm,\n        onToggle: function onToggle(isOpen) {\n          _this2.setState({\n            isOpenForm: isOpen\n          });\n        },\n        companyInfo: this.state.companyInfo,\n        phieuchi_temp: this.state.phieuchi_temp,\n        phieuthu_temp: this.state.phieuthu_temp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"pa-30 need-scroll\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \" C\\u1EA5u H\\xECnh Phi\\u1EBFu  \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \" C\\u1EA5u h\\xECnh li\\xEAn quan \\u0111\\u1EBFn t\\xEDnh n\\u0103ng s\\u1ED5 ti\\u1EC1n \"), React.createElement(\"div\", {\n        className: \"container pt-30 pb-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Row, {\n        style: {\n          paddingBottom: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \" M\\u1EABu PHI\\u1EBEU CHI \\u0111\\u1EC3 IN  \"), React.createElement(\"span\", {\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: function onClick() {\n          _this2._previewForm('phieuchi_temp');\n        },\n        className: \"txt-green pull-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-search-plus mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), \"    Xem tr\\u01B0\\u1EDBc\"), React.createElement(\"span\", {\n        style: {\n          cursor: 'pointer'\n        },\n        className: \"txt-red pull-right mr-15\",\n        onClick: function onClick() {\n          _this2._defaultTemplate('phieuchi_temp');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"L\\u1EA5y m\\u1EABu m\\u1EB7c \\u0111\\u1ECBnh\"), React.createElement(Input, {\n        onChange: function onChange(e) {\n          _this2.setState({\n            phieuchi_temp: e.target.value\n          });\n        },\n        value: this.state.phieuchi_temp,\n        type: \"textarea\",\n        style: {\n          height: 300,\n          background: '#262A2E',\n          marginTop: 5,\n          color: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \" M\\u1EABu PHI\\u1EBEU THU \\u0111\\u1EC3 IN \"), React.createElement(\"span\", {\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: function onClick() {\n          _this2._previewForm('phieuthu_temp');\n        },\n        className: \"txt-green pull-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-search-plus mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), \"    Xem tr\\u01B0\\u1EDBc\"), React.createElement(\"span\", {\n        style: {\n          cursor: 'pointer'\n        },\n        className: \"txt-red pull-right mr-15\",\n        onClick: function onClick() {\n          _this2._defaultTemplate('phieuthu_temp');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"L\\u1EA5y m\\u1EABu m\\u1EB7c \\u0111\\u1ECBnh\"), React.createElement(Input, {\n        onChange: function onChange(e) {\n          _this2.setState({\n            phieuthu_temp: e.target.value\n          });\n        },\n        value: this.state.phieuthu_temp,\n        type: \"textarea\",\n        style: {\n          marginTop: 5,\n          height: 300,\n          background: '#262A2E',\n          color: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        className: \"pt-30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this._onSubmit,\n        className: \"btn-ubuntu bg-green\",\n        style: {\n          width: 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-chevron-circle-right mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), \" L\\u01B0u\"))))));\n    }\n  }]);\n\n  return ThuChi;\n}(Component);\n\nexport default ThuChi;","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/Cashflow/Setting/ThuChi/index.js"],"names":["MAU_PHIEUCHI","MAU_PHIEUTHU","doUpdateModelInfo","doGetModelInfo","React","Component","Row","Col","Label","Input","Button","PreviewForm","ThuChi","props","_previewForm","type","setState","isOpenForm","state","tab","phieuthu_temp","phieuchi_temp","companyInfo","_onSubmit","bind","arr","field","data","id","res","newProps","onTab","window","USERINFO","company_id","resCompany","name","info","isOpen","paddingBottom","cursor","_defaultTemplate","e","target","value","height","background","marginTop","color","width"],"mappings":"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","sourcesContent":["import { MAU_PHIEUCHI, MAU_PHIEUTHU } from '../../../../config/temp-code-thu-chi';\r\n\r\n// HOOKS \r\nimport doUpdateModelInfo from '../../../../hook/ultil/doUpdateModelInfo';\r\nimport doGetModelInfo from '../../../../hook/ultil/doGetModelInfo'\r\n\r\nimport React, { Component } from 'react';\r\nimport {  Row, Col, Label, Input, Button } from 'reactstrap';\r\n\r\nimport PreviewForm from './PreviewFrorm';\r\n\r\n\r\n\r\nclass ThuChi extends Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n\r\n      tab:'ThuChi',\r\n\r\n      phieuthu_temp:{},\r\n      phieuchi_temp:{},\r\n\r\n      type:'phieuchi_temp', // thu-chi\r\n      companyInfo:{},\r\n      isOpenForm:false\r\n    }\r\n\r\n    this._onSubmit = this._onSubmit.bind(this);\r\n  }\r\n\r\n  _previewForm = (type)=>{ \r\n      this.setState({\r\n          type:type,  \r\n          isOpenForm:true\r\n      });\r\n  }\r\n\r\n\r\n  _defaultTemplate(type){\r\n      const arr = {\r\n          phieuchi_temp: MAU_PHIEUCHI,\r\n          phieuthu_temp: MAU_PHIEUTHU\r\n      };\r\n\r\n      this.setState({\r\n          [type]:arr[type]\r\n      });\r\n\r\n\r\n  }\r\n\r\n\r\n  async _onSubmit(field){\r\n\r\n        const data = {\r\n            id:this.state.companyInfo.id,\r\n            phieuchi_temp:this.state.phieuchi_temp,\r\n            phieuthu_temp:this.state.phieuthu_temp\r\n        }\r\n\r\n        const res =  await doUpdateModelInfo('companies',data) ;\r\n\r\n  }\r\n\r\n\r\n  /* WHEN*/\r\n  /* NHẬN lệnh : từ NEW PROPS TỪ BODY OBJECT*/\r\n  async componentWillReceiveProps(newProps){\r\n    if(newProps.onTab===this.state.tab){\r\n      const resCompany = await doGetModelInfo('companies',window.USERINFO.company_id);\r\n      if(resCompany.name==='success'){\r\n\r\n        const info = resCompany.data;\r\n        \r\n        this.setState({\r\n          companyInfo:info,\r\n          phieuchi_temp: info.phieuchi_temp || MAU_PHIEUCHI,\r\n          phieuthu_temp:info.phieuthu_temp || MAU_PHIEUTHU\r\n        });\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  /* WHERE*/\r\n  render(){\r\n\r\n\r\n    return(\r\n\r\n      <div hidden={  this.props.onTab === this.state.tab ? false : true } >\r\n\r\n            <PreviewForm \r\n                width=\"60%\"\r\n                name=\"Xem trước\"\r\n\r\n                type={this.state.type}\r\n\r\n                isOpen={this.state.isOpenForm}\r\n                onToggle={(isOpen)=>{ this.setState({isOpenForm:isOpen}) }}\r\n                companyInfo={this.state.companyInfo}\r\n\r\n                phieuchi_temp={this.state.phieuchi_temp}\r\n                phieuthu_temp={this.state.phieuthu_temp}\r\n\r\n        \r\n            />\r\n            <div className=\"pa-30 need-scroll\">\r\n                <h5> Cấu Hình Phiếu  </h5>\r\n                <p> Cấu hình liên quan đến tính năng sổ tiền </p>\r\n\r\n                <div className=\"container pt-30 pb-30\">\r\n                    \r\n                    <Row style={{\r\n                        paddingBottom:20\r\n                    }}>\r\n                    <Col md=\"12\">\r\n                        <Label> Mẫu PHIẾU CHI để IN  </Label>\r\n                        \r\n                        <span style={{cursor:'pointer'}} onClick={()=>{ this._previewForm('phieuchi_temp') }} className=\"txt-green pull-right\">  \r\n                            <i className=\"fa fa-search-plus mr-5\"></i>    Xem trước \r\n                        </span>\r\n\r\n                        <span style={{cursor:'pointer'}} className=\"txt-red pull-right mr-15\" onClick={()=>{ this._defaultTemplate('phieuchi_temp') }}> \r\n                            Lấy mẫu mặc định\r\n                        </span>\r\n                        \r\n                        <Input \r\n                            onChange={(e)=>{ this.setState({phieuchi_temp:e.target.value}) }}    \r\n                            value={ this.state.phieuchi_temp }\r\n                            type=\"textarea\" style={{\r\n                                height:300,\r\n                                background:'#262A2E',\r\n                                marginTop:5,\r\n                                color:'#fff'\r\n                            }} \r\n                        />\r\n\r\n                    \r\n                    </Col>\r\n\r\n\r\n                    </Row>\r\n\r\n                    <Row style={{marginTop:20}}>\r\n                        <Col md=\"12\">\r\n                            <Label> Mẫu PHIẾU THU để IN </Label>\r\n                            <span style={{cursor:'pointer'}} onClick={()=>{ this._previewForm('phieuthu_temp') }} className=\"txt-green pull-right\">  \r\n                                <i className=\"fa fa-search-plus mr-5\"></i>    Xem trước \r\n                            </span>\r\n\r\n                            <span style={{cursor:'pointer'}} className=\"txt-red pull-right mr-15\" onClick={()=>{ this._defaultTemplate('phieuthu_temp') }}> \r\n                                Lấy mẫu mặc định\r\n                            </span>\r\n                            \r\n\r\n                            <Input \r\n                                onChange={(e)=>{ this.setState({phieuthu_temp:e.target.value}) }}    \r\n                                value={ this.state.phieuthu_temp }\r\n                                type=\"textarea\" \r\n                                style={{\r\n                                    marginTop:5,\r\n                                    height:300,\r\n                                    background:'#262A2E',\r\n                                    color:'#fff'\r\n                                }} \r\n                            />\r\n\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    <Row className=\"pt-30\">\r\n                    <Col md=\"12\">\r\n                        <Button onClick={this._onSubmit}  className=\"btn-ubuntu bg-green\" style={{width:100}} >  \r\n                            <i className=\"fa fa-chevron-circle-right mr-5\"></i> Lưu \r\n                        </Button>\r\n                    </Col>\r\n                    </Row>\r\n\r\n                </div>\r\n\r\n\r\n            </div>\r\n      </div>\r\n    )\r\n\r\n  }\r\n}\r\n\r\nexport default ThuChi;\r\n"]},"metadata":{},"sourceType":"module"}