{"ast":null,"code":"import _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\pages\\\\DemoTicket\\\\Components\\\\tabs\\\\FormPrintTicket.js\";\nimport doPrint from '../../../../../hook/ultil/doPrint';\nimport React, { Component } from 'react';\nimport ViewModal from '../../../../../components/ViewModal';\nimport numeral from 'numeral';\n\nvar FormPrint =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormPrint, _Component);\n\n  function FormPrint() {\n    _classCallCheck(this, FormPrint);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FormPrint).apply(this, arguments));\n  }\n\n  _createClass(FormPrint, [{\n    key: \"_formatHtml\",\n    value: function _formatHtml(data) {\n      var types = {\n        nguoilon: 'Người lớn',\n        treem: 'Trẻ em'\n      };\n      var prices = {\n        nguoilon: 120000,\n        treem: 60000\n      };\n      var TOTAL = data.number_offer * prices[data.type];\n      var HTML = \"\";\n\n      if (JSON.stringify(data) !== '{}') {\n        HTML = \"<div style=\\\"width:340px; margin:auto; font-size:12px; font-family:Tahoma !important\\\">\\n                        <h5 style=\\\"text-transform:uppercase; text-align:center; font-size:12px\\\">Trung t\\xE2m qu\\u1EA3n l\\xFD v\\xE0 \\u0111i\\u1EC1u h\\xE0nh v\\xE9  <br> khu du l\\u1ECBch v\\u0103n ho\\xE1 SU\\u1ED0I TI\\xCAN  </h5>\\n                        <h3 style=\\\"text-align:center\\\"> V\\xC9 THAM QUAN </h3>\\n\\n                        <div style=\\\"text-align:center\\\">\\n                            <img style=\\\"width:200px; height:200px;\\\" src=\\\"https://chart.apis.google.com/chart?cht=qr&chs=300x300&chl=\".concat(data.code, \"&chld=H|0\\\" />\\n\\n                            <p>\\n                              \").concat(data.code, \"\\n                            </p>\\n\\n                        </div>\\n\\n                        <p>\\n                          Nh\\xE2n vi\\xEAn ph\\u1EE5 tr\\xE1ch : 001\\n                        </p>\\n\\n\\n                        <p> Lo\\u1EA1i v\\xE9 : \").concat(types[data.type], \"  - \").concat(data.number_offer > 1 ? 'Vé đoàn' : 'Vé đơn', \" </p>\\n\\n\\n                        <p> Ng\\xE0y IN : 16-12-2019 </p>\\n\\n                        <p>\\n                          Qu\\xFD kh\\xE1ch vui l\\xF2ng gi\\u1EEF v\\xE9 QRCODE \\u0111\\u1EC3 scan v\\xE0o c\\u1ED5ng, l\\u01B0u \\xFD ch\\u1EC9 s\\u1EED d\\u1EE5ng \\u0111\\u01B0\\u1EE3c 1 l\\u1EA7n duy nh\\u1EA5t\\n                        </p>\\n                        <p>\\n                          M\\xE3 QRCODE c\\xF3 gi\\xE1 tr\\u1ECB cho \").concat(data.number_offer, \" l\\u01B0\\u1EE3t truy c\\u1EADp\\n                        </p>\\n\\n                        <p style=\\\"font-size:20px\\\" >\\n                            Gi\\xE1 tr\\u1ECB :  \").concat(numeral(prices[data.type]).format('0,0'), \" x \").concat(data.number_offer, \" = \").concat(numeral(TOTAL).format('0,0'), \" \\u0111\\n                        </p>\\n\\n                        <br> <br>\\n                        <i> C\\xE1m \\u01A1n qu\\xFD kh\\xE1ch \\u0111\\xE3 s\\u1EED d\\u1EE5ng d\\u1ECBch v\\u1EE5 </i>\\n                        <br>\\n                        <p></p>\\n\\n                    </div>\\n            \");\n      }\n\n      return HTML;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var HTML = this._formatHtml(this.props.data);\n\n      return React.createElement(ViewModal, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"view-modal-body\",\n        onClick: function onClick() {\n          doPrint(HTML);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        ref: function ref(el) {\n          return _this.componentRef = el;\n        },\n        style: {\n          paddingBottom: 20\n        },\n        dangerouslySetInnerHTML: {\n          __html: HTML\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return FormPrint;\n}(Component);\n\nexport { FormPrint as default };","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/pages/DemoTicket/Components/tabs/FormPrintTicket.js"],"names":["doPrint","React","Component","ViewModal","numeral","FormPrint","data","types","nguoilon","treem","prices","TOTAL","number_offer","type","HTML","JSON","stringify","code","format","_formatHtml","props","el","componentRef","paddingBottom","__html"],"mappings":";;;;;;AAAA,OAAOA,OAAP,MAAoB,mCAApB;AAEA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,qCAAtB;AAEA,OAAOC,OAAP,MAAoB,SAApB;;IAEqBC,S;;;;;;;;;;;;;gCAGLC,I,EAAK;AAEb,UAAMC,KAAK,GAAG;AACZC,QAAAA,QAAQ,EAAC,WADG;AAEZC,QAAAA,KAAK,EAAC;AAFM,OAAd;AAKA,UAAMC,MAAM,GAAG;AACbF,QAAAA,QAAQ,EAAC,MADI;AAEbC,QAAAA,KAAK,EAAC;AAFO,OAAf;AAKA,UAAME,KAAK,GAAGL,IAAI,CAACM,YAAL,GAAoBF,MAAM,CAACJ,IAAI,CAACO,IAAN,CAAxC;AAEA,UAAIC,IAAI,KAAR;;AACA,UAAGC,IAAI,CAACC,SAAL,CAAeV,IAAf,MAAwB,IAA3B,EAAgC;AAE5BQ,QAAAA,IAAI,6lBAKuHR,IAAI,CAACW,IAL5H,8FAQgBX,IAAI,CAACW,IARrB,qQAkBwBV,KAAK,CAACD,IAAI,CAACO,IAAN,CAlB7B,iBAkBgDP,IAAI,CAACM,YAAL,GAAoB,CAApB,GAAwB,SAAxB,GAAoC,QAlBpF,obA2BqCN,IAAI,CAACM,YA3B1C,kLA+B0BR,OAAO,CAACM,MAAM,CAACJ,IAAI,CAACO,IAAN,CAAP,CAAP,CAA2BK,MAA3B,CAAkC,KAAlC,CA/B1B,gBA+B0EZ,IAAI,CAACM,YA/B/E,gBA+BmGR,OAAO,CAACO,KAAD,CAAP,CAAeO,MAAf,CAAsB,KAAtB,CA/BnG,0SAAJ;AA0CH;;AAED,aAAOJ,IAAP;AACH;;;6BACQ;AAAA;;AAEL,UAAMA,IAAI,GAAG,KAAKK,WAAL,CAAiB,KAAKC,KAAL,CAAWd,IAA5B,CAAb;;AAEA,aACI,oBAAC,SAAD,oBAAe,KAAKc,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAiC,QAAA,OAAO,EAAE,mBAAI;AAAEpB,UAAAA,OAAO,CAACc,IAAD,CAAP;AAAe,SAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGI;AACI,QAAA,GAAG,EAAE,aAAAO,EAAE;AAAA,iBAAK,KAAI,CAACC,YAAL,GAAoBD,EAAzB;AAAA,SADX;AAEI,QAAA,KAAK,EAAE;AACCE,UAAAA,aAAa,EAAC;AADf,SAFX;AAKQ,QAAA,uBAAuB,EAAE;AAAEC,UAAAA,MAAM,EAAEV;AAAV,SALjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CADJ,CADJ;AAeH;;;;EArFkCZ,S;;SAAlBG,S","sourcesContent":["import doPrint from '../../../../../hook/ultil/doPrint';\r\n\r\nimport React, { Component } from 'react';\r\nimport ViewModal from '../../../../../components/ViewModal';\r\n\r\nimport numeral from 'numeral' ;\r\n\r\nexport default class FormPrint extends Component {\r\n\r\n\r\n    _formatHtml(data){\r\n\r\n        const types = {\r\n          nguoilon:'Người lớn',\r\n          treem:'Trẻ em'\r\n        };\r\n\r\n        const prices = {\r\n          nguoilon:120000,\r\n          treem:60000\r\n        };\r\n\r\n        const TOTAL = data.number_offer * prices[data.type]  ;\r\n\r\n        let HTML = ``;\r\n        if(JSON.stringify(data) !=='{}'){\r\n\r\n            HTML = `<div style=\"width:340px; margin:auto; font-size:12px; font-family:Tahoma !important\">\r\n                        <h5 style=\"text-transform:uppercase; text-align:center; font-size:12px\">Trung tâm quản lý và điều hành vé  <br> khu du lịch văn hoá SUỐI TIÊN  </h5>\r\n                        <h3 style=\"text-align:center\"> VÉ THAM QUAN </h3>\r\n\r\n                        <div style=\"text-align:center\">\r\n                            <img style=\"width:200px; height:200px;\" src=\"https://chart.apis.google.com/chart?cht=qr&chs=300x300&chl=${ data.code }&chld=H|0\" />\r\n\r\n                            <p>\r\n                              ${data.code}\r\n                            </p>\r\n\r\n                        </div>\r\n\r\n                        <p>\r\n                          Nhân viên phụ trách : 001\r\n                        </p>\r\n\r\n\r\n                        <p> Loại vé : ${types[data.type]}  - ${ data.number_offer > 1 ? 'Vé đoàn' : 'Vé đơn' } </p>\r\n\r\n\r\n                        <p> Ngày IN : 16-12-2019 </p>\r\n\r\n                        <p>\r\n                          Quý khách vui lòng giữ vé QRCODE để scan vào cổng, lưu ý chỉ sử dụng được 1 lần duy nhất\r\n                        </p>\r\n                        <p>\r\n                          Mã QRCODE có giá trị cho ${data.number_offer} lượt truy cập\r\n                        </p>\r\n\r\n                        <p style=\"font-size:20px\" >\r\n                            Giá trị :  ${ numeral(prices[data.type]).format('0,0') } x ${ data.number_offer } = ${ numeral(TOTAL).format('0,0') } đ\r\n                        </p>\r\n\r\n                        <br> <br>\r\n                        <i> Cám ơn quý khách đã sử dụng dịch vụ </i>\r\n                        <br>\r\n                        <p></p>\r\n\r\n                    </div>\r\n            `;\r\n\r\n        }\r\n\r\n        return HTML ;\r\n    }\r\n    render() {\r\n\r\n        const HTML = this._formatHtml(this.props.data);\r\n\r\n        return (\r\n            <ViewModal {...this.props}>\r\n                <div className=\"view-modal-body\" onClick={()=>{ doPrint(HTML) }}>\r\n\r\n\r\n                    <div\r\n                        ref={el => (this.componentRef = el)}\r\n                        style={{\r\n                                paddingBottom:20\r\n                        }}\r\n                            dangerouslySetInnerHTML={{ __html: HTML  }}\r\n                    />\r\n                </div>\r\n            </ViewModal>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}