{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\Inventory\\\\Po\\\\Form.js\";\n// HOOKS\nimport { isExisted, detectForm } from '../../../hook/before'; // LIBS \n\nimport numeral from 'numeral';\nimport React, { Component } from 'react';\nimport { Row, Col, FormGroup, Label, Input, Table, Button, ButtonGroup } from 'reactstrap';\nimport ViewModal from '../../../components/ViewModal';\nimport InputNumeral from '../../../components/InputNumeral';\nimport InputSuggestProduct from '../../../components/InputSuggestProduct';\nimport SelectListModelCode from '../../../components/SelectListModelCode';\n\nfunction SupplierInfo(props) {\n  var supInfo = props.supplier_info || {};\n  var receiverInfo = props.receiver_info || {};\n  return React.createElement(\"div\", {\n    style: {\n      padding: 10,\n      paddingTop: 30,\n      paddingRight: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    className: \"text-uppercase font-14 txt-green\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-user mr-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), \"NH\\xC0 CUNG C\\u1EA4P\"), React.createElement(\"span\", {\n    className: \"pull-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \" \", supInfo.roots, \" \")), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \" M\\xE3 NCC  \", React.createElement(\"span\", {\n    className: \"text-red\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"*\")), React.createElement(Input, {\n    defaultValue: supInfo.code,\n    disabled: true,\n    style: {\n      background: '#fff'\n    },\n    id: \"supplier_code\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  })), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \" C\\xF4ng ty \"), React.createElement(Input, {\n    disabled: true,\n    style: {\n      background: '#fff'\n    },\n    type: \"text\",\n    defaultValue: supInfo.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })), React.createElement(\"h5\", {\n    className: \"text-uppercase txt-green\",\n    style: {\n      marginTop: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \" \", React.createElement(\"i\", {\n    className: \"fa fa-truck mr-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), \"  Th\\xF4ng tin nh\\u1EADn h\\xE0ng  \")), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \" Ng\\u01B0\\u1EDDi nh\\u1EADn \"), React.createElement(Input, {\n    onChange: function onChange(e) {\n      props.onChangeReceiInfo('user_name', e.target.value);\n    },\n    defaultValue: receiverInfo.user_name,\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })), React.createElement(Col, {\n    md: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \" S\\u0110T \"), React.createElement(Input, {\n    onChange: function onChange(e) {\n      props.onChangeReceiInfo('user_phone', e.target.value);\n    },\n    defaultValue: receiverInfo.user_phone,\n    type: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })))), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"\\u0110\\u1ECBa ch\\u1EC9\"), React.createElement(Input, {\n    type: \"text\",\n    onChange: function onChange(e) {\n      props.onChangeReceiInfo('address', e.target.value);\n    },\n    defaultValue: receiverInfo.address,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), React.createElement(\"h5\", {\n    className: \"text-uppercase txt-green\",\n    style: {\n      marginTop: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \" \", React.createElement(\"i\", {\n    className: \"fa fa-shield mr-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), \"  Thanh to\\xE1n  \"), React.createElement(\"label\", {\n    className: \"float-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \" \", supInfo.level_code, \" \")), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \" H\\u1EA1n m\\u1EE9c \", React.createElement(\"span\", {\n    className: \"text-red\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"*\"), \" \"), React.createElement(SelectListModelCode, {\n    strModel: \"payments\",\n    onChange: function onChange(e) {\n      props.onChange('payment_code', e.target.value);\n    },\n    defaultValue: props.payment_code,\n    name: \"Vui L\\xF2ng Ch\\u1ECDn\",\n    id: \"payment_code\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  })), React.createElement(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \" Thu\\u1EBF %  \"), React.createElement(Input, {\n    defaultValue: props.vat,\n    onChange: function onChange(e) {\n      props.onChange('vat', e.target.value);\n    },\n    min: 0,\n    max: 50,\n    type: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  })))), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \" Ghi ch\\xFA  \"), React.createElement(Input, {\n    type: \"textarea\",\n    defaultValue: props.note,\n    onChange: function onChange(e) {\n      props.onChange('note', e.target.value);\n    },\n    style: {\n      height: 100\n    },\n    id: \"note\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })));\n}\n\nfunction TableInfo(props) {\n  var grid = props.grid;\n  var supInfo = props.supplier_info || {};\n  return React.createElement(\"div\", {\n    style: {\n      padding: '30px 10px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: \"9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(InputSuggestProduct, {\n    supplier_codes: supInfo.code,\n    type: \"all\",\n    onSelected: function onSelected(json) {\n      props.onSelectedProduct(json);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  })), React.createElement(Col, {\n    md: \"3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  })), React.createElement(Row, {\n    className: \"mt-20\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(Table, {\n    className: \"product-board table vk-table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, grid.colums.map(function (item, index) {\n    return React.createElement(\"th\", {\n      key: index,\n      style: {\n        width: item.width\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, item.headerName, \" \");\n  }))), React.createElement(\"tbody\", {\n    style: {\n      height: 420\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, props.cart.map(function (item) {\n    var amount = parseInt(item.amount);\n    var price = item.price;\n    var total = parseInt(price) * amount;\n    var totalWithVat = total * (parseInt(props.vat) / 100) + total;\n    return React.createElement(\"tr\", {\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      style: {\n        width: grid['colums'][0]['width']\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \" \", item.code, \" \"), React.createElement(\"td\", {\n      style: {\n        width: grid['colums'][1]['width']\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \" \", item.name, \" \"), React.createElement(\"td\", {\n      style: {\n        width: grid['colums'][2]['width']\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, item.images !== null ? React.createElement(\"img\", {\n      style: {\n        height: 90,\n        border: '1px solid #ddd'\n      },\n      src: item.images,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }) : null), React.createElement(\"td\", {\n      tyle: {\n        width: grid['colums'][3]['width']\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \" \", item.unit, \" \"), React.createElement(\"td\", {\n      style: {\n        width: grid['colums'][4]['width']\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"number\",\n      onChange: function onChange(e) {\n        props.onCardChange({\n          row_id: item.id,\n          field: 'amount',\n          value: e.target.value\n        });\n      },\n      min: 1,\n      max: 1000000,\n      defaultValue: amount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      style: {\n        width: grid['colums'][5]['width']\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(InputNumeral, {\n      onChange: function onChange(value) {\n        props.onCardChange({\n          row_id: item.id,\n          field: 'price',\n          value: value\n        });\n      },\n      defaultValue: price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      style: {\n        width: grid['colums'][6]['width']\n      },\n      className: \"txt-green\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \" \", numeral(total).format('0,0'), \"  \"), React.createElement(\"td\", {\n      style: {\n        width: grid['colums'][7]['width']\n      },\n      className: \"text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \" \", numeral(totalWithVat).format('0,0'), \"  \"), React.createElement(\"td\", {\n      style: {\n        width: grid['colums'][8]['width']\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: function onClick() {\n        props.onRemoveCard(item.id);\n      },\n      className: \"btn-trio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-trash\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }))));\n  })), React.createElement(\"tfoot\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][0]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, \" \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][1]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, \"  \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][2]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, \"  \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][3]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, \"  \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][4]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  }, \" \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][5]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"txt-bold font-14\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, \" T\\u1ED5ng c\\u1ED9ng \")), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][6]['width']\n    },\n    className: \"txt-green\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"txt-bold font-14\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, \" \", numeral(props.total_sum).format('0,0') + ' đ', \" \")), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][7]['width']\n    },\n    className: \"text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, \" \", React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, \"  \"), \" \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][8]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208\n    },\n    __self: this\n  }, \"  \")), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][0]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, \" \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][1]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, \"  \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][2]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, \"  \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][3]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, \"  \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][4]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, \" \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][5]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"text-danger font-14 txt-bold\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, \" Thu\\u1EBF \", props.vat + '%', \" \")), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][6]['width']\n    },\n    className: \"text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"txt-bold font-14\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, \" \", numeral(props.total_vat).format('0,0') + ' đ', \" \")), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][7]['width']\n    },\n    className: \"text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][8]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }, \"  \")), React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][0]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, \" \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][1]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, \" \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][2]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }, \"  \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][3]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  }, \"  \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][4]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }, \" \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][5]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"txt-bold font-14\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }, \" Th\\xE0nh ti\\u1EC1n \")), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][6]['width']\n    },\n    className: \"txt-green\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"txt-bold font-14\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, \" \", numeral(props.total_sum_vat).format('0,0') + ' đ', \" \")), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][7]['width']\n    },\n    className: \"text-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }, \"  \"), React.createElement(\"td\", {\n    style: {\n      width: grid['colums'][8]['width']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  }, \"  \"))))))));\n}\n\nvar MyForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyForm, _Component);\n\n  function MyForm(props) {\n    var _this;\n\n    _classCallCheck(this, MyForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MyForm).call(this, props));\n    _this.state = {\n      supplier_code: '',\n      supplier_info: {},\n      receiver_info: {},\n      cart: [],\n      vat: 10,\n      payment_code: '',\n      note: '',\n      total_sum: 0,\n      total_vat: 0,\n      total_sum_vat: 0,\n      belong_user: '',\n      promotion_discount: 0,\n      onSuccess: false\n    };\n    _this.grid = {\n      colums: [{\n        headerName: \"Mã\",\n        width: 100\n      }, {\n        headerName: \"Sản phẩm\",\n        width: 250\n      }, {\n        headerName: \"Hình Ảnh\",\n        width: 140\n      }, {\n        headerName: \"ĐVT\",\n        width: 120\n      }, {\n        headerName: \"SL\",\n        width: 100\n      }, {\n        headerName: \"Đơn giá\",\n        width: 150\n      }, {\n        headerName: \"Thành tiền\",\n        width: 150\n      }, {\n        headerName: \"+VAT\",\n        width: 150\n      }, {\n        headerName: \"\",\n        width: 70\n      }]\n    };\n    _this._onSelectedSupplier = _this._onSelectedSupplier.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this._onChangeReceiInfo = _this._onChangeReceiInfo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this._onChange = _this._onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this._onSubmit = _this._onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MyForm, [{\n    key: \"_onSubmit\",\n    value: function _onSubmit() {\n      var _this2 = this;\n\n      var fields = ['supplier_code', 'vat', 'payment_code'];\n\n      if (detectForm(fields, this.state) === '') {\n        if (this.state.cart.length > 0) {\n          /// ok submit post data ;\n          var data = this.state;\n          var supInfo = data.supplier_info;\n          data.supplier_info = {\n            id: supInfo.id,\n            code: supInfo.code,\n            name: supInfo.name,\n            phone: supInfo.phone,\n            roots: supInfo.roots\n          };\n          this.model.axios('put', data, function (res) {\n            _this2._whereStateChange(res);\n          });\n        } else {\n          var el = document.querySelector(\"#form-err\");\n          el.innerHTML = '<span class=\"text-danger\"><i class=\"fa fa-exclamation-triangle\"></i>  Vui lòng chọn sản phẩm </span>';\n        }\n      }\n    }\n  }, {\n    key: \"_onSelectedSupplier\",\n    value: function _onSelectedSupplier(json) {\n      this.setState({\n        supplier_code: json.code,\n        supplier_info: json,\n        cart: [],\n        total_sum: 0,\n        total_vat: 0,\n        total_sum_vat: 0\n      });\n    }\n  }, {\n    key: \"_calculateSUM\",\n    value: function _calculateSUM(cart) {\n      var _this3 = this;\n\n      var ret = {\n        total_sum: 0,\n        total_sum_vat: 0,\n        total_vat: 0,\n        promotion_discount: 0\n      };\n      cart.map(function (item) {\n        // calculate\n        var amount = parseInt(item.amount);\n        var price = item.price;\n        var total = parseInt(price) * amount;\n        ret.total_sum += total;\n        var totalWithVat = total * (parseInt(_this3.state.vat) / 100) + total;\n        ret.total_sum_vat += totalWithVat; // end calculate\n      }); // SUMARY \n\n      ret.total_vat = ret.total_sum * (parseInt(this.state.vat) / 100);\n      ret.total_sum_vat = ret.total_sum + ret.total_vat;\n      return ret;\n    }\n  }, {\n    key: \"_updateCard\",\n    value: function _updateCard(json) {\n      // row_id - field - value\n      var cart = this.state.cart;\n      cart.map(function (item) {\n        if (parseInt(json.row_id) === parseInt(item.id)) {\n          item[json.field] = json.value;\n        }\n      });\n\n      var retSUM = this._calculateSUM(cart);\n\n      this.setState(_objectSpread({\n        cart: cart\n      }, retSUM));\n    }\n  }, {\n    key: \"_removeCard\",\n    value: function _removeCard(id) {\n      var cart = this.state.cart;\n      var newCart2 = cart.filter(function (item) {\n        return item.id !== id;\n      });\n\n      var retSUM = this._calculateSUM(newCart2);\n\n      this.setState(_objectSpread({\n        cart: newCart2\n      }, retSUM));\n    }\n  }, {\n    key: \"_addCard\",\n    value: function _addCard(json) {\n      if (!isExisted(this.state.cart, json.id)) {\n        var cart = this.state.cart;\n        cart.push({\n          id: json.id,\n          code: json.code,\n          name: json.name,\n          unit: json.unit_name,\n          is_serial: json.is_serial,\n          images: json.images,\n          type: json.type,\n          amount: 1,\n          price: json.price_1\n        });\n\n        var retSUM = this._calculateSUM(cart);\n\n        this.setState(_objectSpread({\n          cart: cart\n        }, retSUM));\n      }\n    }\n  }, {\n    key: \"_onChangeReceiInfo\",\n    value: function _onChangeReceiInfo(field, value) {\n      var info = this.state.receiver_info;\n      Object.assign(info, _defineProperty({}, field, value));\n      this.setState({\n        receiver_info: info\n      });\n    }\n  }, {\n    key: \"_onChange\",\n    value: function _onChange(name, value) {\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // INIT ORDERS MODEL\n                this.model = this.props.model;\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"_whereStateChange\",\n    value: function _whereStateChange(res) {\n      if (res.name === 'success' || res.name === 'ok') {\n        this.props.onSubmit(res.name);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      if (JSON.stringify(newProps.data) !== '{}') {\n        var data = newProps.data;\n        var supInfo = JSON.parse(data.supplier_info);\n        var receiverInfo = JSON.parse(data.receiver_info);\n        var total_vat = parseFloat(data.total_sum) * (data.vat / 100);\n        this.setState({\n          id: data.id,\n          receiver_info: receiverInfo,\n          supplier_code: supInfo.code,\n          supplier_info: supInfo,\n          cart: JSON.parse(data.cart),\n          vat: data.vat,\n          payment_code: data.payment_code,\n          note: data.note,\n          total_sum: data.total_sum,\n          total_vat: total_vat,\n          total_sum_vat: data.total_sum_vat,\n          promotion_discount: data.promotion_discount\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var title = JSON.stringify(this.props.data) !== '{}' ? this.props.data.code : '';\n      return React.createElement(ViewModal, Object.assign({}, this.props, {\n        name: React.createElement(\"span\", {\n          className: \"text-uppercase\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 532\n          },\n          __self: this\n        }, \" \", title, \" \"),\n        onToggle: function onToggle(isOpen) {\n          _this4.props.onToggle(isOpen);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 9,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 534\n        },\n        __self: this\n      }, React.createElement(TableInfo, Object.assign({}, this.state, {\n        grid: this.grid,\n        onCardChange: function onCardChange(json) {\n          return _this4._updateCard(json);\n        },\n        onRemoveCard: function onRemoveCard(id) {\n          _this4._removeCard(id);\n        },\n        onSelectedProduct: function onSelectedProduct(json) {\n          _this4._addCard(json);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 535\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        md: 3,\n        style: {\n          background: '#f0f0f0',\n          borderLeft: '1px solid #ddd'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 543\n        },\n        __self: this\n      }, React.createElement(SupplierInfo, Object.assign({}, this.state, {\n        onChange: this._onChange,\n        onSelectedSupplier: this._onSelectedSupplier,\n        onChangeReceiInfo: function onChangeReceiInfo(field, value) {\n          _this4._onChangeReceiInfo(field, value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        style: {\n          borderTop: '1px solid #ddd',\n          padding: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553\n        },\n        __self: this\n      }, React.createElement(Button, {\n        style: {\n          width: 120\n        },\n        onClick: this._onSubmit,\n        className: \"btn btn-ubuntu-ok bg-green \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa  fa-chevron-circle-right mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555\n        },\n        __self: this\n      }), \" \\u0110\\u1ED3ng \\xDD\"), React.createElement(\"span\", {\n        className: \"ml-10 form-err\",\n        id: \"form-err\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return MyForm;\n}(Component);\n\nexport { MyForm as default };\nMyForm.defaultValue = {\n  onToggle: function onToggle() {}\n};","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/Inventory/Po/Form.js"],"names":["isExisted","detectForm","numeral","React","Component","Row","Col","FormGroup","Label","Input","Table","Button","ButtonGroup","ViewModal","InputNumeral","InputSuggestProduct","SelectListModelCode","SupplierInfo","props","supInfo","supplier_info","receiverInfo","receiver_info","padding","paddingTop","paddingRight","roots","code","background","name","marginTop","e","onChangeReceiInfo","target","value","user_name","user_phone","address","level_code","onChange","payment_code","vat","note","height","TableInfo","grid","json","onSelectedProduct","colums","map","item","index","width","headerName","cart","amount","parseInt","price","total","totalWithVat","id","images","border","unit","onCardChange","row_id","field","format","onRemoveCard","total_sum","total_vat","total_sum_vat","MyForm","state","supplier_code","belong_user","promotion_discount","onSuccess","_onSelectedSupplier","bind","_onChangeReceiInfo","_onChange","_onSubmit","fields","length","data","phone","model","axios","res","_whereStateChange","el","document","querySelector","innerHTML","setState","ret","retSUM","_calculateSUM","newCart2","filter","push","unit_name","is_serial","type","price_1","info","Object","assign","onSubmit","newProps","JSON","stringify","parse","parseFloat","title","isOpen","onToggle","_updateCard","_removeCard","_addCard","borderLeft","borderTop","defaultValue"],"mappings":"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","sourcesContent":["\r\n// HOOKS\r\nimport { isExisted, detectForm } from '../../../hook/before'; \r\n\r\n// LIBS \r\nimport numeral from 'numeral';\r\n\r\nimport React, { Component } from 'react';\r\nimport {  Row, Col, FormGroup,Label, Input, Table, Button, ButtonGroup  } from 'reactstrap';\r\n\r\nimport ViewModal from '../../../components/ViewModal'; \r\nimport InputNumeral from '../../../components/InputNumeral'; \r\nimport InputSuggestProduct from '../../../components/InputSuggestProduct' ; \r\n\r\nimport SelectListModelCode from '../../../components/SelectListModelCode';\r\n\r\n\r\n\r\nfunction SupplierInfo(props){\r\n\r\n  const supInfo = props.supplier_info || {} ; \r\n  const receiverInfo = props.receiver_info || {}; \r\n  \r\n  return( \r\n    <div style={{padding:10,paddingTop:30,paddingRight:10}}>\r\n        \r\n        <h5 className=\"text-uppercase font-14 txt-green\">\r\n          <Label >\r\n           <i className=\"fa fa-user mr-5\"></i> \r\n            NHÀ CUNG CẤP\r\n          </Label>\r\n          <span className=\"pull-right\"> { supInfo.roots } </span>\r\n        </h5>\r\n\r\n        <FormGroup>\r\n          <Label> Mã NCC  <span className=\"text-red\">*</span></Label>\r\n          <Input defaultValue={supInfo.code} disabled style={{background:'#fff'}} id=\"supplier_code\" />\r\n\r\n        </FormGroup>\r\n\r\n        <FormGroup>\r\n          <Label> Công ty </Label>\r\n          <Input disabled style={{background:'#fff'}} type=\"text\" defaultValue={supInfo.name}    />\r\n        </FormGroup>\r\n        \r\n        <h5 className='text-uppercase txt-green' style={{marginTop:20}}>\r\n          <label> <i className=\"fa fa-truck mr-5\"></i>  Thông tin nhận hàng  </label>\r\n        </h5>\r\n\r\n        <FormGroup>\r\n          <Row>\r\n              <Col md={6}>\r\n                  <Label> Người nhận </Label>\r\n                  <Input onChange={(e)=>{ props.onChangeReceiInfo('user_name',e.target.value) }} defaultValue={ receiverInfo.user_name } type=\"text\" />\r\n              </Col>\r\n              <Col md={6}>\r\n                  <Label> SĐT </Label>\r\n                  <Input onChange={(e)=>{  props.onChangeReceiInfo('user_phone',e.target.value) }} defaultValue={receiverInfo.user_phone} type=\"text\" />\r\n              </Col>\r\n\r\n          </Row>\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <label> \r\n              Địa chỉ \r\n          </label>\r\n          <Input  type=\"text\"  onChange={(e)=>{ props.onChangeReceiInfo('address',e.target.value) }} defaultValue={ receiverInfo.address}  />\r\n\r\n        </FormGroup>\r\n\r\n        <h5 className='text-uppercase txt-green' style={{marginTop:20}}>\r\n          <label> <i className=\"fa fa-shield mr-5\"></i>  Thanh toán  </label>\r\n          <label className=\"float-right\"> { supInfo.level_code } </label>\r\n\r\n        </h5>\r\n\r\n        <FormGroup> \r\n          <Row>\r\n            <Col md={6}>\r\n              <Label> Hạn mức <span className=\"text-red\">*</span> </Label>\r\n              <SelectListModelCode \r\n                  \r\n                  strModel='payments' onChange={(e)=>{  props.onChange('payment_code',e.target.value)  }} \r\n                  defaultValue={props.payment_code} name=\"Vui Lòng Chọn\" id=\"payment_code\" />\r\n            </Col>\r\n            <Col>\r\n              <Label> Thuế %  </Label>\r\n              <Input defaultValue={ props.vat } onChange={(e)=>{ props.onChange('vat',e.target.value) }} min={0} max={50} type='number'    />\r\n            </Col>\r\n          </Row>\r\n        </FormGroup>\r\n        \r\n        <FormGroup>\r\n          <Label> Ghi chú  </Label>\r\n          <Input type=\"textarea\"  defaultValue={ props.note } onChange={(e)=>{  props.onChange('note',e.target.value)  }} style={{height:100}} id=\"note\" />\r\n        </FormGroup>\r\n\r\n\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nfunction TableInfo(props){\r\n    \r\n  const grid = props.grid ; \r\n  const supInfo = props.supplier_info || {};\r\n\r\n  \r\n  return(\r\n\r\n    <div style={{padding:'30px 10px'}}>\r\n\r\n      <FormGroup>\r\n        \r\n        <Row>\r\n          <Col md=\"9\">\r\n            <InputSuggestProduct supplier_codes={ supInfo.code }  type=\"all\" onSelected={(json)=>{ props.onSelectedProduct(json) }}    />\r\n          </Col>\r\n          <Col md=\"3\">\r\n            \r\n          </Col>\r\n        </Row>\r\n\r\n        <Row className=\"mt-20\">\r\n          <Col md={12}>\r\n\r\n            <Table className=\"product-board table vk-table\">\r\n              <thead>\r\n                <tr>\r\n                  { \r\n                    grid.colums.map((item,index)=>{\r\n                      return(\r\n                        <th key={index} style={{width:item.width}}>{ item.headerName } </th> \r\n                      )\r\n                    })\r\n                  }\r\n                </tr>\r\n              </thead>\r\n\r\n              <tbody style={{height:420}}>\r\n\r\n                {\r\n                  props.cart.map((item)=>{\r\n                    \r\n                    const amount = parseInt(item.amount) ; \r\n                    const price = item.price;\r\n                    const total = parseInt(price) * amount ;  \r\n                    const totalWithVat = (total * (parseInt(props.vat) / 100)) + total ;\r\n                    \r\n\r\n                    return(\r\n                      <tr key={item.id}>\r\n\r\n                        <td style={{ width: grid['colums'][0]['width'] }}> { item.code } </td>\r\n                        <td style={{width:grid['colums'][1]['width']}}> {item.name} </td>\r\n                        \r\n                        <td style={{ width:grid['colums'][2]['width'] }}>\r\n                          {\r\n                            item.images !== null ? <img style={{height:90,border:'1px solid #ddd'}} src={ item.images }  /> : null \r\n                          }\r\n                        </td>\r\n\r\n                        <td tyle={{ width:grid['colums'][3]['width'] }}> { item.unit } </td>\r\n\r\n                        <td style={{width:grid['colums'][4]['width']}}>\r\n                            <Input type=\"number\" \r\n                              onChange={(e)=>{ props.onCardChange({row_id:item.id,field:'amount',value:e.target.value}) }} \r\n                              min={1} max={1000000} \r\n                              defaultValue={ amount } \r\n                            />\r\n                        </td>\r\n\r\n                        <td style={{width:grid['colums'][5]['width']}}> \r\n                          <InputNumeral onChange={(value)=>{ props.onCardChange({row_id:item.id,field:'price',value:value}) }} defaultValue={price} />\r\n                        </td>\r\n\r\n                        <td style={{width:grid['colums'][6]['width']}} className=\"txt-green\"> { numeral(total).format('0,0') }  </td>\r\n                        <td style={{width:grid['colums'][7]['width']}} className=\"text-danger\" > { numeral(totalWithVat).format('0,0') }  </td>\r\n\r\n                        <td style={{width:grid['colums'][8]['width']}}>\r\n                          <Button onClick={()=>{ props.onRemoveCard(item.id) }}  className=\"btn-trio\"><i className=\"fa fa-trash\"></i></Button>\r\n                        </td>\r\n                      </tr>\r\n                    )\r\n                  })\r\n                }\r\n               \r\n              </tbody>\r\n              \r\n              <tfoot>\r\n                \r\n                \r\n                <tr>\r\n                  <td style={{ width: grid['colums'][0]['width'] }}> </td>\r\n                  <td style={{ width: grid['colums'][1]['width'] }}>  </td>\r\n                  <td style={{ width: grid['colums'][2]['width'] }}>  </td>\r\n                  <td style={{ width: grid['colums'][3]['width'] }}>  </td>\r\n                  <td style={{ width: grid['colums'][4]['width'] }}> </td>\r\n                  <td style={{ width: grid['colums'][5]['width'] }}> \r\n                    <span className=\"txt-bold font-14\" > Tổng cộng </span>  \r\n                  </td>\r\n                  <td style={{ width: grid['colums'][6]['width'] }} className=\"txt-green\"> \r\n                    <span className=\"txt-bold font-14\"> { numeral(props.total_sum).format('0,0')+' đ' } </span>  \r\n                  </td>\r\n                  <td style={{ width: grid['colums'][7]['width'] }} className=\"text-danger\"> <label>  </label> </td>\r\n                  <td style={{ width: grid['colums'][8]['width'] }}>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                  <td style={{ width: grid['colums'][0]['width'] }}> </td>\r\n                  <td style={{ width: grid['colums'][1]['width'] }}>  </td>\r\n                  <td style={{ width: grid['colums'][2]['width'] }}>  </td>\r\n                  <td style={{ width: grid['colums'][3]['width'] }}>  </td>\r\n                  <td style={{ width: grid['colums'][4]['width'] }}> </td>\r\n                  <td style={{ width: grid['colums'][5]['width'] }}> \r\n                    <span className=\"text-danger font-14 txt-bold\"> Thuế { props.vat+'%' } </span>  \r\n                  </td>\r\n                  <td style={{ width: grid['colums'][6]['width'] }} className=\"text-danger\"> \r\n                    <span className=\"txt-bold font-14\"> { numeral(props.total_vat).format('0,0')+' đ' } </span>  \r\n                  </td>\r\n                  <td style={{ width: grid['colums'][7]['width'] }} className=\"text-danger\"></td>\r\n                  <td style={{ width: grid['colums'][8]['width'] }}>  </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                  <td style={{ width: grid['colums'][0]['width'] }}> </td>\r\n                  <td style={{ width: grid['colums'][1]['width'] }}> </td>\r\n                  <td style={{ width: grid['colums'][2]['width'] }}>  </td>\r\n                  <td style={{ width: grid['colums'][3]['width'] }}>  </td>\r\n                  <td style={{ width: grid['colums'][4]['width'] }}> </td>\r\n                  <td style={{ width: grid['colums'][5]['width'] }}> \r\n                    <span className=\"txt-bold font-14\"> Thành tiền </span>  \r\n                  </td>\r\n                  <td style={{ width: grid['colums'][6]['width'] }} className=\"txt-green\"> \r\n                    <span className=\"txt-bold font-14\"> { numeral(props.total_sum_vat).format('0,0')+' đ' } </span>  \r\n                  </td>\r\n                  <td style={{ width: grid['colums'][7]['width'] }} className=\"text-danger\">  </td>\r\n                  <td style={{ width: grid['colums'][8]['width'] }}>  </td>\r\n                </tr>\r\n\r\n\r\n                \r\n              </tfoot>\r\n\r\n\r\n            </Table>\r\n          </Col>\r\n        </Row>\r\n      </FormGroup>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default class MyForm extends Component {\r\n\r\n  \r\n      constructor(props){\r\n\r\n        super(props);\r\n        \r\n        this.state = {\r\n            \r\n            supplier_code:'',\r\n            supplier_info:{},\r\n            receiver_info:{},\r\n            cart:[], \r\n            vat:10,\r\n            payment_code:'',\r\n            note:'',\r\n            total_sum:0,\r\n            total_vat:0,\r\n            total_sum_vat:0, \r\n            belong_user:'',\r\n            promotion_discount:0,\r\n            onSuccess:false\r\n        }\r\n\r\n        this.grid = {\r\n            colums:[\r\n              {headerName: \"Mã\",width:100},\r\n              {headerName: \"Sản phẩm\", width:250},\r\n              {headerName: \"Hình Ảnh\",width:140},\r\n              {headerName: \"ĐVT\", width:120},\r\n              {headerName: \"SL\", width:100},\r\n              {headerName: \"Đơn giá\", width:150},\r\n              {headerName: \"Thành tiền\", width:150},\r\n              {headerName: \"+VAT\", width:150},\r\n              {headerName: \"\", width:70}\r\n            ]\r\n        }\r\n\r\n        this._onSelectedSupplier = this._onSelectedSupplier.bind(this);\r\n        this._onChangeReceiInfo = this._onChangeReceiInfo.bind(this);\r\n        \r\n        this._onChange = this._onChange.bind(this); \r\n        this._onSubmit = this._onSubmit.bind(this);\r\n\r\n\r\n    }\r\n\r\n\r\n    _onSubmit(){\r\n\r\n        \r\n      const fields = [\r\n        'supplier_code','vat','payment_code',\r\n      ];\r\n      \r\n      if(detectForm(fields,this.state)===''){\r\n        \r\n        if(this.state.cart.length>0){\r\n            /// ok submit post data ;\r\n\r\n            const data = this.state ; \r\n            const supInfo = data.supplier_info; \r\n            \r\n            data.supplier_info = {\r\n              id:supInfo.id,\r\n              code:supInfo.code,\r\n              name:supInfo.name,\r\n              phone:supInfo.phone,\r\n              roots:supInfo.roots\r\n            }\r\n            \r\n            this.model.axios('put',data,(res)=>{ \r\n              this._whereStateChange(res);               \r\n            });\r\n          \r\n        }else{\r\n            let el = document.querySelector(\"#form-err\");\r\n            el.innerHTML = '<span class=\"text-danger\"><i class=\"fa fa-exclamation-triangle\"></i>  Vui lòng chọn sản phẩm </span>';\r\n\r\n        }\r\n      }\r\n\r\n\r\n      \r\n\r\n  }\r\n\r\n  _onSelectedSupplier(json){\r\n\r\n      this.setState({\r\n        supplier_code:json.code,\r\n        supplier_info:json,\r\n        cart:[],\r\n        total_sum:0,\r\n        total_vat:0,\r\n        total_sum_vat:0\r\n\r\n      });\r\n      \r\n      \r\n  }\r\n\r\n  _calculateSUM(cart){\r\n\r\n      let ret = {\r\n        total_sum:0,\r\n        total_sum_vat:0,\r\n        total_vat:0,\r\n        promotion_discount:0\r\n      };\r\n      \r\n      cart.map((item)=>{\r\n        // calculate\r\n        const amount = parseInt(item.amount) ; \r\n        const price = item.price;\r\n        const total = parseInt(price) * amount ;  \r\n        ret.total_sum += total;\r\n\r\n        const totalWithVat = (total * (parseInt(this.state.vat) / 100)) + total ;\r\n        ret.total_sum_vat += totalWithVat ;             \r\n        // end calculate\r\n          \r\n      \r\n      }) ;\r\n\r\n      // SUMARY \r\n      ret.total_vat = ret.total_sum * ( parseInt(this.state.vat)/100 );\r\n\r\n      ret.total_sum_vat = ret.total_sum + ret.total_vat;\r\n      \r\n      return ret;\r\n\r\n  }\r\n\r\n  _updateCard(json){ // row_id - field - value\r\n\r\n      let cart = this.state.cart; \r\n      \r\n      cart.map((item)=>{\r\n        if(parseInt(json.row_id) === parseInt(item.id)){\r\n          item[json.field] = json.value; \r\n        }\r\n      });\r\n      \r\n      const retSUM = this._calculateSUM(cart);\r\n      \r\n      this.setState({\r\n        cart:cart,\r\n        ...retSUM\r\n      });\r\n      \r\n\r\n  }\r\n\r\n  _removeCard(id){\r\n\r\n      let cart = this.state.cart ; \r\n      const newCart2 = cart.filter(item=>item.id !== id) ;\r\n\r\n      const retSUM = this._calculateSUM(newCart2);\r\n\r\n      this.setState({\r\n        cart:newCart2,\r\n        ...retSUM\r\n      });\r\n      \r\n\r\n  }\r\n\r\n  _addCard(json){\r\n\r\n    \r\n      if(!isExisted(this.state.cart,json.id)){\r\n\r\n        let cart = this.state.cart;\r\n          \r\n        cart.push({\r\n          id:json.id,\r\n          code:json.code,\r\n          name:json.name,\r\n          unit:json.unit_name,\r\n          is_serial:json.is_serial,\r\n          images:json.images,\r\n          type:json.type,\r\n          amount:1,\r\n          price:json.price_1\r\n        }); \r\n\r\n        const retSUM = this._calculateSUM(cart);\r\n\r\n        this.setState({\r\n          cart:cart,\r\n          ...retSUM\r\n        });\r\n\r\n                \r\n      }\r\n      \r\n      \r\n  }\r\n\r\n  _onChangeReceiInfo(field,value){\r\n\r\n      let info = this.state.receiver_info;\r\n      Object.assign(info,{\r\n        [field]:value\r\n      });\r\n      \r\n      this.setState({\r\n          receiver_info:info\r\n      });\r\n      \r\n\r\n    }\r\n\r\n  _onChange(name,value){\r\n      this.setState({ \r\n        [name]:value\r\n      });\r\n      \r\n  } \r\n\r\n  async componentDidMount(){\r\n      // INIT ORDERS MODEL\r\n      this.model =  this.props.model;  \r\n      \r\n      \r\n  }\r\n\r\n  _whereStateChange(res){\r\n\r\n      if(res.name==='success' || res.name ==='ok'){\r\n        this.props.onSubmit(res.name);\r\n      }\r\n      \r\n  }\r\n\r\n  componentWillReceiveProps(newProps){\r\n\r\n\r\n    if(JSON.stringify(newProps.data) !=='{}'){\r\n\r\n        const data = newProps.data;\r\n        const supInfo = JSON.parse(data.supplier_info);\r\n        const receiverInfo = JSON.parse(data.receiver_info);\r\n        \r\n\r\n        const total_vat = parseFloat(data.total_sum) * ( data.vat / 100 );\r\n\r\n\r\n        this.setState({ \r\n          \r\n          id:data.id,\r\n          receiver_info:receiverInfo,\r\n          supplier_code:supInfo.code,\r\n          supplier_info:supInfo,\r\n          cart:JSON.parse(data.cart),\r\n          vat:data.vat,\r\n          payment_code:data.payment_code,\r\n          note:data.note,\r\n          total_sum:data.total_sum,\r\n          total_vat:total_vat,\r\n          total_sum_vat:data.total_sum_vat,\r\n          promotion_discount:data.promotion_discount\r\n        });\r\n        \r\n    }\r\n\r\n  }\r\n  \r\n\r\n  render(){\r\n\r\n     const title = JSON.stringify(this.props.data) !== '{}' ?  this.props.data.code  : ''; \r\n     return(\r\n       <ViewModal {...this.props} name={ <span className=\"text-uppercase\"> { title } </span> }  onToggle={(isOpen)=>{  this.props.onToggle(isOpen)}}  >\r\n          <Row>\r\n              <Col md={9} >\r\n                  <TableInfo \r\n                      {...this.state} \r\n                      grid={this.grid}\r\n                      onCardChange={ (json)=>this._updateCard(json) } \r\n                      onRemoveCard={(id)=>{ this._removeCard(id) }}  \r\n                      onSelectedProduct={(json)=>{  this._addCard(json)  }} \r\n                  />\r\n              </Col>\r\n              <Col md={3} style={{background:'#f0f0f0',borderLeft:'1px solid #ddd'}}>\r\n\r\n                  <SupplierInfo {...this.state} \r\n                      onChange={this._onChange}  \r\n                      onSelectedSupplier={ this._onSelectedSupplier }  \r\n                      onChangeReceiInfo={(field,value)=>{ this._onChangeReceiInfo(field,value) }}\r\n                  />\r\n                  \r\n              </Col>\r\n          </Row>\r\n          <div style={{borderTop:'1px solid #ddd',padding:20}}>\r\n              <Button style={{width:120}} onClick={ this._onSubmit } className=\"btn btn-ubuntu-ok bg-green \">\r\n              <i className=\"fa  fa-chevron-circle-right mr-5\"></i> Đồng Ý \r\n            </Button>\r\n            <span className=\"ml-10 form-err\" id=\"form-err\"></span>             \r\n          </div>\r\n       </ViewModal>\r\n     )\r\n  }\r\n\r\n }\r\n\r\n MyForm.defaultValue = {\r\n   onToggle:()=>{}\r\n }\r\n\r\n"]},"metadata":{},"sourceType":"module"}