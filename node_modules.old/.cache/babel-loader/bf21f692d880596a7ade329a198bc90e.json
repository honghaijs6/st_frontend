{"ast":null,"code":"import _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\Order\\\\_S\\\\ProgressForm.js\";\nimport { ORDER_STATUS } from '../../../config/app.config';\nimport React, { Component } from 'react';\nimport { Button } from 'reactstrap';\nimport ViewModal from '../../../components/ViewModal';\nimport BenButtonSelect from '../../../components/BenButtonSelect';\nimport BenProcess from '../../../components/BenProcess';\n\nvar ProgressForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProgressForm, _Component);\n\n  function ProgressForm(props) {\n    var _this;\n\n    _classCallCheck(this, ProgressForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProgressForm).call(this, props));\n    _this.state = {\n      orderStatus: 0,\n      originStatus: 0,\n      ORDER_STATUS: ORDER_STATUS,\n      actionName: ''\n    };\n    _this._closeForm = _this._closeForm.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this._onSubmit = _this._onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ProgressForm, [{\n    key: \"getOrderStatus\",\n    value: function getOrderStatus(status) {\n      this.state.ORDER_STATUS.map(function (item, index) {\n        if (index === status) {\n          item['active'] = true;\n        } else {\n          delete item.active;\n        }\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      var status = newProps.data.status || 0;\n      this.getOrderStatus(status);\n      this.setState({\n        originStatus: status,\n        orderStatus: status,\n        actionName: ORDER_STATUS[status]['action']\n      });\n    }\n  }, {\n    key: \"_closeForm\",\n    value: function _closeForm() {\n      document.querySelector('.close').click();\n    }\n  }, {\n    key: \"_onSubmit\",\n    value: function _onSubmit() {\n      var _this2 = this;\n\n      var status = this.state.originStatus;\n      var mustBe = parseInt(status) + 1;\n      var data = {\n        id: this.props.data.id,\n        status: mustBe\n      };\n      this.props.model.putCustom('progress', data, function (res) {\n        if (res.name === 'success' || res.name === 'ok') {\n          _this2.props.onSubmit(res);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(ViewModal, Object.assign({}, this.props, {\n        onToggle: function onToggle(isOpen) {\n          _this3.props.onToggle(isOpen);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          padding: '40px 20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \" Tr\\u1EA1ng th\\xE1i ti\\u1EBFn tr\\xECnh \"), React.createElement(BenProcess, {\n        status: this.state.orderStatus,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          borderTop: '1px solid #eee',\n          padding: '20px 0px',\n          margin: '0px 20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this._onSubmit,\n        className: \"btn btn-ubuntu\",\n        style: {\n          background: ORDER_STATUS[this.state.orderStatus]['color']\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: 'fa mr-5 ' + ORDER_STATUS[this.state.orderStatus]['icon'],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), \" \", ORDER_STATUS[this.state.orderStatus]['action'])));\n    }\n  }]);\n\n  return ProgressForm;\n}(Component);\n\nProgressForm.defaultProps = {\n  onToggle: function onToggle() {},\n  onSubmit: function onSubmit() {}\n};\nexport default ProgressForm;","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/Order/_S/ProgressForm.js"],"names":["ORDER_STATUS","React","Component","Button","ViewModal","BenButtonSelect","BenProcess","ProgressForm","props","state","orderStatus","originStatus","actionName","_closeForm","bind","_onSubmit","status","map","item","index","active","newProps","data","getOrderStatus","setState","document","querySelector","click","mustBe","parseInt","id","model","putCustom","res","name","onSubmit","isOpen","onToggle","padding","borderTop","margin","background","defaultProps"],"mappings":";;;;;;;AAAA,SAASA,YAAT,QAA6B,4BAA7B;AAEA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,QAAuB,YAAvB;AAGA,OAAOC,SAAP,MAAsB,+BAAtB;AACA,OAAOC,eAAP,MAA4B,qCAA5B;AACA,OAAOC,UAAP,MAAuB,gCAAvB;;IAIMC,Y;;;;;AAGF,wBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,sFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,WAAW,EAAC,CADH;AAETC,MAAAA,YAAY,EAAC,CAFJ;AAGTX,MAAAA,YAAY,EAACA,YAHJ;AAITY,MAAAA,UAAU,EAAC;AAJF,KAAb;AAQA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,uDAAlB;AACA,UAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeD,IAAf,uDAAjB;AAZc;AAcjB;;;;mCAEcE,M,EAAO;AAElB,WAAKP,KAAL,CAAWT,YAAX,CAAwBiB,GAAxB,CAA4B,UAACC,IAAD,EAAMC,KAAN,EAAc;AACtC,YAAGA,KAAK,KAAGH,MAAX,EAAkB;AACdE,UAAAA,IAAI,CAAC,QAAD,CAAJ,GAAiB,IAAjB;AACH,SAFD,MAEK;AACD,iBAAOA,IAAI,CAACE,MAAZ;AACH;AACJ,OAND;AAQH;;;8CAEyBC,Q,EAAS;AAE/B,UAAML,MAAM,GAAGK,QAAQ,CAACC,IAAT,CAAcN,MAAd,IAAwB,CAAvC;AAEA,WAAKO,cAAL,CAAoBP,MAApB;AAEA,WAAKQ,QAAL,CAAc;AACVb,QAAAA,YAAY,EAACK,MADH;AAEVN,QAAAA,WAAW,EAACM,MAFF;AAGVJ,QAAAA,UAAU,EAAEZ,YAAY,CAACgB,MAAD,CAAZ,CAAqB,QAArB;AAHF,OAAd;AAMH;;;iCAEW;AACRS,MAAAA,QAAQ,CAACC,aAAT,CAAuB,QAAvB,EAAiCC,KAAjC;AACH;;;gCAEU;AAAA;;AAEP,UAAMX,MAAM,GAAG,KAAKP,KAAL,CAAWE,YAA1B;AACA,UAAMiB,MAAM,GAAGC,QAAQ,CAACb,MAAD,CAAR,GAAmB,CAAlC;AAEA,UAAIM,IAAI,GAAG;AACPQ,QAAAA,EAAE,EAAC,KAAKtB,KAAL,CAAWc,IAAX,CAAgBQ,EADZ;AAEPd,QAAAA,MAAM,EAACY;AAFA,OAAX;AAKA,WAAKpB,KAAL,CAAWuB,KAAX,CAAiBC,SAAjB,CAA2B,UAA3B,EAAsCV,IAAtC,EAA2C,UAACW,GAAD,EAAO;AAE9C,YAAGA,GAAG,CAACC,IAAJ,KAAa,SAAb,IAA0BD,GAAG,CAACC,IAAJ,KAAW,IAAxC,EAA6C;AACzC,UAAA,MAAI,CAAC1B,KAAL,CAAW2B,QAAX,CAAoBF,GAApB;AACH;AAEJ,OAND;AASH;;;6BAEQ;AAAA;;AAGL,aACI,oBAAC,SAAD,oBAAe,KAAKzB,KAApB;AAA2B,QAAA,QAAQ,EAAE,kBAAC4B,MAAD,EAAU;AAAG,UAAA,MAAI,CAAC5B,KAAL,CAAW6B,QAAX,CAAoBD,MAApB;AAA4B,SAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAEI;AAAK,QAAA,KAAK,EAAE;AACRE,UAAAA,OAAO,EAAC;AADA,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAHJ,EAKI,oBAAC,UAAD;AAAY,QAAA,MAAM,EAAG,KAAK7B,KAAL,CAAWC,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALJ,CAFJ,EAYI;AAAK,QAAA,KAAK,EAAE;AAAC6B,UAAAA,SAAS,EAAC,gBAAX;AAA4BD,UAAAA,OAAO,EAAC,UAApC;AAA+CE,UAAAA,MAAM,EAAC;AAAtD,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKzB,SAAtB;AAAiC,QAAA,SAAS,EAAC,gBAA3C;AAA4D,QAAA,KAAK,EAAE;AAAE0B,UAAAA,UAAU,EAAEzC,YAAY,CAAC,KAAKS,KAAL,CAAWC,WAAZ,CAAZ,CAAqC,OAArC;AAAd,SAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAE,aAAWV,YAAY,CAAC,KAAKS,KAAL,CAAWC,WAAZ,CAAZ,CAAqC,MAArC,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,OACkFV,YAAY,CAAC,KAAKS,KAAL,CAAWC,WAAZ,CAAZ,CAAqC,QAArC,CADlF,CADJ,CAZJ,CADJ;AAwBH;;;;EAjGsBR,S;;AAqG3BK,YAAY,CAACmC,YAAb,GAA4B;AACxBL,EAAAA,QAAQ,EAAC,oBAAI,CAAE,CADS;AAExBF,EAAAA,QAAQ,EAAC,oBAAI,CAAE;AAFS,CAA5B;AAKA,eAAe5B,YAAf","sourcesContent":["import { ORDER_STATUS } from '../../../config/app.config'\r\n\r\nimport React, { Component } from 'react';\r\nimport { Button } from 'reactstrap'; \r\n\r\n\r\nimport ViewModal from '../../../components/ViewModal';\r\nimport BenButtonSelect from '../../../components/BenButtonSelect';\r\nimport BenProcess from '../../../components/BenProcess'; \r\n\r\n\r\n\r\nclass ProgressForm extends Component {\r\n    \r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            orderStatus:0,\r\n            originStatus:0,\r\n            ORDER_STATUS:ORDER_STATUS,\r\n            actionName:''\r\n        };\r\n\r\n\r\n        this._closeForm = this._closeForm.bind(this);\r\n        this._onSubmit = this._onSubmit.bind(this);\r\n\r\n    }\r\n\r\n    getOrderStatus(status){\r\n        \r\n        this.state.ORDER_STATUS.map((item,index)=>{\r\n            if(index===status){\r\n                item['active'] = true \r\n            }else{\r\n                delete item.active\r\n            }                                                              \r\n        });\r\n        \r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n\r\n        const status = newProps.data.status || 0 ;\r\n\r\n        this.getOrderStatus(status);\r\n\r\n        this.setState({\r\n            originStatus:status,\r\n            orderStatus:status,\r\n            actionName: ORDER_STATUS[status]['action']\r\n        });\r\n\r\n    }\r\n\r\n    _closeForm(){\r\n        document.querySelector('.close').click();\r\n    }\r\n\r\n    _onSubmit(){\r\n\r\n        const status = this.state.originStatus;\r\n        const mustBe = parseInt(status) + 1\r\n\r\n        let data = {\r\n            id:this.props.data.id,\r\n            status:mustBe\r\n        };\r\n        \r\n        this.props.model.putCustom('progress',data,(res)=>{\r\n            \r\n            if(res.name === 'success' || res.name==='ok'){\r\n                this.props.onSubmit(res);\r\n            }\r\n\r\n        });\r\n\r\n\r\n    }\r\n    \r\n    render() {\r\n        \r\n\r\n        return (\r\n            <ViewModal {...this.props} onToggle={(isOpen)=>{  this.props.onToggle(isOpen)}}  >\r\n\r\n                <div style={{\r\n                    padding:'40px 20px'\r\n                }}>\r\n                    <label> Trạng thái tiến trình </label>\r\n                    \r\n                    <BenProcess status={ this.state.orderStatus } />      \r\n                    \r\n\r\n                </div>\r\n                \r\n                <div style={{borderTop:'1px solid #eee',padding:'20px 0px',margin:'0px 20px'}}>\r\n                    <Button onClick={this._onSubmit} className=\"btn btn-ubuntu\" style={{ background: ORDER_STATUS[this.state.orderStatus]['color'] }}  > \r\n                        <i className={'fa mr-5 '+ORDER_STATUS[this.state.orderStatus]['icon']}></i> { ORDER_STATUS[this.state.orderStatus]['action'] } \r\n                    </Button>\r\n                </div>\r\n\r\n\r\n\r\n\r\n            </ViewModal>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nProgressForm.defaultProps = {\r\n    onToggle:()=>{},\r\n    onSubmit:()=>{}\r\n}\r\n\r\nexport default ProgressForm;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}