{"ast":null,"code":"import _defineProperty from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\Employee\\\\MyEmployee\\\\Form.js\";\n// DATA\nimport { JOB_TYPES, JOB_LEVELS, DEFAULT_PASSWORD } from '../../../config/app.config'; // HOOKS \n\nimport detectForm from '../../../hook/before/detectform';\nimport React, { Component } from 'react';\nimport { Row, Col, FormGroup, Input } from 'reactstrap';\nimport { AppSwitch } from '@coreui/react';\nimport ViewModal from '../../../components/ViewModal';\nimport SelectList from '../../../components/SelectList';\nimport SelectListModel from '../../../components/SelectListModel';\n\nvar MyForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyForm, _Component);\n\n  function MyForm(props) {\n    var _this;\n\n    _classCallCheck(this, MyForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MyForm).call(this, props));\n    _this.state = {};\n    _this._onSubmit = _this._onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MyForm, [{\n    key: \"_onChange\",\n    value: function _onChange(field, value) {\n      this.setState(_defineProperty({}, field, value));\n    }\n  }, {\n    key: \"_resetForm\",\n    value: function _resetForm() {\n      return {\n        name: '',\n        gender: 1,\n        email: '',\n        phone: '',\n        office_id: 0,\n        job_type: 0,\n        department_id: 0,\n        job_level: 0,\n        username: '',\n        is_limit_ip_chamcong: true\n      };\n    }\n  }, {\n    key: \"_onSubmit\",\n    value: function _onSubmit() {\n      var _this2 = this;\n\n      //alert(this.props.typeAction);\n      var fields = ['name', 'email', 'phone', 'office_id', 'department_id', 'job_level', 'username'];\n\n      if (detectForm(fields, this.state) === '') {\n        var data = this.state;\n        data.is_limit_ip_chamcong = data.is_limit_ip_chamcong === true ? 1 : 0;\n        data.password = DEFAULT_PASSWORD;\n        this.props.model.axios(this.props.typeAction, data, function (res) {\n          _this2._whereStateChange(res);\n        });\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      if (newProps.typeAction === 'put') {\n        var data = newProps.data;\n        var state = {\n          id: data.id,\n          name: data.name,\n          gender: data.gender,\n          email: data.email,\n          phone: data.phone,\n          office_id: data.office_id,\n          job_type: data.job_type,\n          department_id: data.department_id,\n          job_level: data.job_level,\n          username: data.username,\n          is_limit_ip_chamcong: parseInt(data.is_limit_ip_chamcong) > 0 ? true : false\n        };\n        this.setState(state);\n      } else {\n        var _state = this._resetForm();\n\n        this.setState(_state);\n      }\n    }\n  }, {\n    key: \"_whereStateChange\",\n    value: function _whereStateChange(res) {\n      if (res.name === 'success' || res.name === 'ok') {\n        this.props.onSubmitForm(res);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var title = 'Nhân viên ' + this.state.name;\n      return React.createElement(ViewModal, Object.assign({\n        name: title,\n        onSubmit: this._onSubmit,\n        isFooter: true\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"view-modal-body\",\n        style: {\n          padding: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"txt-green font-12 text-uppercase\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \" Th\\xF4ng tin c\\xE1 nh\\xE2n \"), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \" H\\u1ECD & T\\xEAn \"), React.createElement(Input, {\n        id: \"name\",\n        onChange: function onChange(e) {\n          _this3._onChange('name', e.target.value);\n        },\n        defaultValue: this.state.name,\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \" Gi\\u1EDBi t\\xEDnh \"), React.createElement(SelectList, {\n        id: \"gender\",\n        onChange: function onChange(e) {\n          _this3._onChange('gender', e.target.value);\n        },\n        defaultValue: this.state.gender,\n        name: \"Vui l\\xF2ng ch\\u1ECDn\",\n        rows: [{\n          code: 1,\n          name: 'Nam'\n        }, {\n          code: 0,\n          name: 'Nữ'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      })))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \" E-mail \"), React.createElement(Input, {\n        id: \"email\",\n        onChange: function onChange(e) {\n          _this3._onChange('email', e.target.value);\n        },\n        defaultValue: this.state.email,\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \" \\u0110i\\u1EC7n tho\\u1EA1i \"), React.createElement(Input, {\n        id: \"phone\",\n        onChange: function onChange(e) {\n          _this3._onChange('phone', e.target.value);\n        },\n        defaultValue: this.state.phone,\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      })))), React.createElement(\"h5\", {\n        style: {\n          marginTop: 40\n        },\n        className: \"txt-green font-12 text-uppercase\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \" Th\\xF4ng tin nh\\xE2n vi\\xEAn \"), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \" V\\u0103n ph\\xF2ng l\\xE0m vi\\u1EC7c \"), React.createElement(SelectListModel, {\n        id: \"office_id\",\n        onChange: function onChange(e) {\n          _this3._onChange('office_id', e.target.value);\n        },\n        defaultValue: this.state.office_id,\n        strModel: \"offices\",\n        name: \"Vui l\\xF2ng ch\\u1ECDn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \" Lo\\u1EA1i h\\xECnh c\\xF4ng vi\\u1EC7c \"), React.createElement(SelectList, {\n        id: \"job_type\",\n        onChange: function onChange(e) {\n          _this3._onChange('job_type', e.target.value);\n        },\n        defaultValue: this.state.job_type,\n        name: \"Vui l\\xF2ng ch\\u1ECDn\",\n        rows: JOB_TYPES,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      })))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \" Ph\\xF2ng ban \"), React.createElement(SelectListModel, {\n        id: \"department_id\",\n        defaultValue: this.state.department_id,\n        onChange: function onChange(e) {\n          _this3._onChange('department_id', e.target.value);\n        },\n        strModel: \"departments\",\n        name: \"Vui l\\xF2ng ch\\u1ECDn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, \" C\\u1EA5p b\\u1EADc \"), React.createElement(SelectList, {\n        id: \"job_level\",\n        onChange: function onChange(e) {\n          _this3._onChange('job_level', e.target.value);\n        },\n        defaultValue: this.state.job_level,\n        name: \"Vui l\\xF2ng ch\\u1ECDn\",\n        rows: JOB_LEVELS,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      })))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \" ID n\\u1ED9i b\\u1ED9 \"), React.createElement(Input, {\n        id: \"username\",\n        onChange: function onChange(e) {\n          _this3._onChange('username', e.target.value);\n        },\n        defaultValue: this.state.username,\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"Kh\\xF4ng gi\\u1EDBi h\\u1EA1n IP khi ch\\u1EA5m c\\xF4ng\"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }), React.createElement(AppSwitch, {\n        onClick: function onClick() {\n          _this3.setState({\n            is_limit_ip_chamcong: !_this3.state.is_limit_ip_chamcong\n          });\n        },\n        className: 'mx-1',\n        variant: 'pill',\n        color: 'primary',\n        checked: this.state.is_limit_ip_chamcong,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return MyForm;\n}(Component);\n\nMyForm.defaultProps = {\n  typeAction: 'post'\n};\nexport default MyForm;","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/Employee/MyEmployee/Form.js"],"names":["JOB_TYPES","JOB_LEVELS","DEFAULT_PASSWORD","detectForm","React","Component","Row","Col","FormGroup","Input","AppSwitch","ViewModal","SelectList","SelectListModel","MyForm","props","state","_onSubmit","bind","field","value","setState","name","gender","email","phone","office_id","job_type","department_id","job_level","username","is_limit_ip_chamcong","fields","data","password","model","axios","typeAction","res","_whereStateChange","newProps","id","parseInt","_resetForm","onSubmitForm","title","padding","e","_onChange","target","code","marginTop","defaultProps"],"mappings":"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","sourcesContent":["\r\n// DATA\r\nimport { JOB_TYPES, JOB_LEVELS, DEFAULT_PASSWORD } from '../../../config/app.config'; \r\n\r\n\r\n// HOOKS \r\nimport detectForm  from '../../../hook/before/detectform';\r\n\r\nimport React, { Component } from 'react';\r\nimport { Row, Col, FormGroup, Input } from 'reactstrap'; \r\n\r\nimport { AppSwitch } from '@coreui/react';\r\n\r\n\r\n\r\nimport ViewModal from '../../../components/ViewModal';\r\nimport SelectList from '../../../components/SelectList';\r\nimport SelectListModel from '../../../components/SelectListModel'; \r\n\r\n\r\n\r\nclass MyForm extends Component { \r\n\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {}\r\n\r\n\r\n        this._onSubmit = this._onSubmit.bind(this);\r\n    }\r\n\r\n    _onChange(field, value){\r\n\r\n        this.setState({\r\n            [field]:value\r\n        });\r\n\r\n    }\r\n\r\n    _resetForm(){\r\n        return {\r\n\r\n            name:'',\r\n            gender:1,\r\n            email:'',\r\n            phone:'',\r\n            office_id:0,\r\n            job_type:0,\r\n            department_id:0,\r\n            job_level:0,\r\n            username:'',\r\n            is_limit_ip_chamcong: true\r\n  \r\n        }\r\n    }\r\n\r\n    _onSubmit(){\r\n        //alert(this.props.typeAction);\r\n\r\n                const fields = ['name','email','phone','office_id','department_id','job_level','username'];\r\n        if(detectForm(fields,this.state)===''){\r\n            \r\n            let data = this.state ; \r\n            data.is_limit_ip_chamcong = data.is_limit_ip_chamcong === true ? 1 : 0 ;\r\n            data.password =  DEFAULT_PASSWORD\r\n\r\n            \r\n            this.props.model.axios(this.props.typeAction,data,(res)=>{ \r\n\r\n                this._whereStateChange(res);     \r\n                \r\n\r\n            });\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n\r\n        if(newProps.typeAction==='put'){\r\n\r\n            const data = newProps.data;\r\n\r\n            const state = {\r\n                id:data.id,\r\n                name:data.name,\r\n                gender:data.gender,\r\n                email:data.email,\r\n                phone:data.phone,\r\n                office_id:data.office_id,  \r\n                job_type:data.job_type,\r\n                department_id:data.department_id,\r\n                job_level:data.job_level,\r\n                username:data.username,\r\n                is_limit_ip_chamcong: parseInt(data.is_limit_ip_chamcong) > 0 ? true : false\r\n            }\r\n\r\n            this.setState(state);\r\n\r\n\r\n        }else{\r\n            const state = this._resetForm();\r\n            this.setState(state);\r\n        }\r\n    }\r\n\r\n    _whereStateChange(res){\r\n        if(res.name==='success' || res.name ==='ok'){\r\n            this.props.onSubmitForm(res);\r\n        }\r\n    }\r\n    \r\n    render() {\r\n\r\n        const title = 'Nhân viên ' + this.state.name\r\n        return (\r\n            <ViewModal name={title} onSubmit={this._onSubmit} isFooter={true} {...this.props}>\r\n                <div className=\"view-modal-body\" style={{padding:30}}>\r\n\r\n                    <h5 className=\"txt-green font-12 text-uppercase\"> Thông tin cá nhân </h5>\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <label> Họ & Tên </label>\r\n                                <Input id=\"name\" onChange={(e)=>{ this._onChange('name',e.target.value) }} defaultValue={ this.state.name } type=\"text\"  />\r\n                            </Col>\r\n                            <Col md={6}>\r\n                                <label> Giới tính </label>\r\n                                <SelectList id=\"gender\" onChange={(e)=>{ this._onChange('gender',e.target.value)  }} defaultValue={ this.state.gender } name=\"Vui lòng chọn\" rows={[\r\n                                    { code:1,name:'Nam' },\r\n                                    { code:0, name:'Nữ' }\r\n                                ]} /> \r\n\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <label> E-mail </label>\r\n                                <Input id=\"email\" onChange={(e)=>{ this._onChange('email',e.target.value) }} defaultValue={ this.state.email } type=\"text\" />\r\n                            </Col>\r\n                            <Col md={6}>  \r\n                                <label> Điện thoại </label>\r\n                                <Input id=\"phone\" onChange={(e)=>{ this._onChange('phone',e.target.value) }} defaultValue={ this.state.phone } type=\"text\" />\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n\r\n                    <h5 style={{marginTop:40}} className=\"txt-green font-12 text-uppercase\"> Thông tin nhân viên </h5>\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <label> Văn phòng làm việc </label>\r\n                                <SelectListModel \r\n                                    id=\"office_id\" \r\n                                    onChange={(e)=>{  this._onChange('office_id',e.target.value)  }} \r\n                                    defaultValue={ this.state.office_id } \r\n                                    strModel=\"offices\" name=\"Vui lòng chọn\" \r\n                                />\r\n\r\n                            </Col>\r\n                            <Col md={6}>\r\n                                <label> Loại hình công việc </label>\r\n                                <SelectList \r\n                                    id=\"job_type\" \r\n                                    onChange={(e)=>{ this._onChange('job_type',e.target.value) }}\r\n                                    defaultValue={ this.state.job_type }  \r\n                                    name=\"Vui lòng chọn\" \r\n                                    rows={ JOB_TYPES } \r\n                                />\r\n\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <label> Phòng ban </label>\r\n                                <SelectListModel \r\n                                    id=\"department_id\" \r\n                                    defaultValue={ this.state.department_id } \r\n                                    onChange={(e)=>{  this._onChange('department_id',e.target.value)  }} \r\n                                    strModel=\"departments\" name=\"Vui lòng chọn\" \r\n                                />  \r\n                            </Col>    \r\n                            <Col md={6}>\r\n                                <label> Cấp bậc </label>\r\n                                <SelectList \r\n                                    id=\"job_level\" \r\n                                    onChange={(e)=>{ this._onChange('job_level',e.target.value) }}\r\n                                    defaultValue={this.state.job_level} \r\n                                    name=\"Vui lòng chọn\" \r\n                                    rows={ JOB_LEVELS } \r\n                                />\r\n                            </Col>\r\n                        </Row>\r\n                    </FormGroup>\r\n                    <FormGroup>\r\n                        <Row>\r\n                            <Col md={6}>\r\n                                <label> ID nội bộ </label>\r\n                                <Input id=\"username\" onChange={(e)=>{ this._onChange('username',e.target.value) }} defaultValue={ this.state.username } type=\"text\" />\r\n                            </Col>\r\n                            <Col md={6}>\r\n                                <label>Không giới hạn IP khi chấm công</label> <br></br>\r\n                                <AppSwitch \r\n                                    onClick={ ()=>{   \r\n                                        this.setState({\r\n                                            is_limit_ip_chamcong: !this.state.is_limit_ip_chamcong\r\n                                        });\r\n                                    }} \r\n                                    className={'mx-1'} \r\n                                    variant={'pill'} \r\n                                    color={'primary'}  \r\n                                    checked={ this.state.is_limit_ip_chamcong } />\r\n\r\n                            </Col>\r\n                        </Row>\r\n                        \r\n                    </FormGroup>\r\n                </div>\r\n            </ViewModal>\r\n        );\r\n    }\r\n}\r\n\r\nMyForm.defaultProps = {\r\n    typeAction:'post'\r\n}\r\n\r\nexport default MyForm;\r\n"]},"metadata":{},"sourceType":"module"}