{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\Inventory\\\\Setting\\\\InOutDisplayConfig.js\";\nimport { MAU_PHIEU_XUATKHO, MAU_PHIEU_NHAPKHO } from '../../../config/temp-code-in-out'; // HOOKS \n\nimport doUpdateModelInfo from '../../../hook/ultil/doUpdateModelInfo';\nimport React from 'react';\nimport { FormGroup, Col, Label, Button, Input } from 'reactstrap';\nimport BenTabs from '../../../components/BenTabs';\nimport PreviewForm from './PreviewForm';\n\nvar InOutDisplayConfig =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(InOutDisplayConfig, _React$Component);\n\n  function InOutDisplayConfig(props) {\n    var _this$state;\n\n    var _this;\n\n    _classCallCheck(this, InOutDisplayConfig);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InOutDisplayConfig).call(this, props));\n\n    _this._previewForm = function (type) {\n      _this.setState({\n        type: type,\n        isOpenForm: true\n      });\n    };\n\n    _this.state = (_this$state = {\n      onTab: 'out',\n      tabs: [{\n        icon: '',\n        code: 'out',\n        name: 'Phiếu xuất kho'\n      }, {\n        icon: '',\n        code: 'in',\n        name: 'Phiếu nhập kho'\n      }],\n      companyInfo: {},\n      receipt_out_temp: \"\"\n    }, _defineProperty(_this$state, \"receipt_out_temp\", \"\"), _defineProperty(_this$state, \"isOpenForm\", false), _this$state);\n    return _this;\n  }\n\n  _createClass(InOutDisplayConfig, [{\n    key: \"_defaultTemplate\",\n    value: function _defaultTemplate(type) {\n      var arr = {\n        receipt_out_temp: MAU_PHIEU_XUATKHO,\n        receipt_in_temp: MAU_PHIEU_NHAPKHO\n      };\n      this.setState(_defineProperty({}, type, arr[type]));\n    }\n  }, {\n    key: \"_onSubmit\",\n    value: function () {\n      var _onSubmit2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(field) {\n        var data, res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = _defineProperty({\n                  id: this.state.companyInfo.id\n                }, field, this.state[field]);\n                _context.next = 3;\n                return doUpdateModelInfo('companies', data);\n\n              case 3:\n                res = _context.sent;\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _onSubmit(_x) {\n        return _onSubmit2.apply(this, arguments);\n      }\n\n      return _onSubmit;\n    }()\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function () {\n      var _componentWillReceiveProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(newProps) {\n        var info, data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (JSON.stringify(newProps.companyInfo) != '{}') {\n                  info = newProps.companyInfo;\n\n                  if (info.name === 'success') {\n                    data = info.data; //alert(data.receipt_out_temp);\n\n                    this.setState({\n                      companyInfo: info.data,\n                      receipt_out_temp: data.receipt_out_temp || MAU_PHIEU_XUATKHO,\n                      receipt_in_temp: data.receipt_in_temp || MAU_PHIEU_NHAPKHO\n                    });\n                  }\n                }\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentWillReceiveProps(_x2) {\n        return _componentWillReceiveProps.apply(this, arguments);\n      }\n\n      return componentWillReceiveProps;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(PreviewForm, {\n        name: \"Xem tr\\u01B0\\u1EDBc\",\n        type: this.state.type,\n        width: \"72%\",\n        isOpen: this.state.isOpenForm,\n        onToggle: function onToggle(isOpen) {\n          _this2.setState({\n            isOpenForm: isOpen\n          });\n        },\n        receipt_out_temp: this.state.receipt_out_temp,\n        receipt_in_temp: this.state.receipt_in_temp,\n        companyInfo: this.state.companyInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(BenTabs, {\n        onChangeTab: function onChangeTab(code) {\n          _this2.setState({\n            onTab: code\n          });\n        },\n        tabs: this.state.tabs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tab-pane  \".concat(this.state.onTab === 'out' ? 'active' : '', \" \"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        row: true,\n        style: {\n          border: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \" M\\u1EABu hi\\u1EC3n th\\u1ECB phi\\u1EBFu xu\\u1EA5t kho \"), React.createElement(\"span\", {\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: function onClick() {\n          _this2._previewForm('receipt_out_temp');\n        },\n        className: \"txt-green pull-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-search-plus mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), \"    Xem tr\\u01B0\\u1EDBc\"), React.createElement(\"span\", {\n        onClick: function onClick() {\n          _this2._defaultTemplate('receipt_out_temp');\n        },\n        className: \"pointer pull-right mr-20 text-red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-file-code-o mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), \" Template m\\u1EB7c \\u0111\\u1ECBnh\"), React.createElement(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Input, {\n        onChange: function onChange(e) {\n          _this2.setState({\n            receipt_out_temp: e.target.value\n          });\n        },\n        value: this.state.receipt_out_temp,\n        type: \"textarea\",\n        style: {\n          height: 300,\n          background: '#262A2E',\n          color: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })))), React.createElement(FormGroup, {\n        row: true,\n        style: {\n          marginTop: 10,\n          border: 0,\n          margin: -20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: function onClick() {\n          _this2._onSubmit('receipt_out_temp');\n        },\n        className: \"btn btn-ubuntu bg-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa  fa-chevron-circle-right mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), \" C\\u1EADp nh\\u1EADt\"), React.createElement(\"span\", {\n        className: \"form-err text-red\",\n        id: \"form-err\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"tab-pane  \".concat(this.state.onTab === 'in' ? 'active' : '', \" \"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        row: true,\n        style: {\n          border: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \" M\\u1EABu hi\\u1EC3n th\\u1ECB phi\\u1EBFu nh\\u1EADp kho \"), React.createElement(\"span\", {\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: function onClick() {\n          _this2._previewForm('receipt_in_temp');\n        },\n        className: \"txt-green pull-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-search-plus mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }), \"    Xem tr\\u01B0\\u1EDBc\"), React.createElement(\"span\", {\n        onClick: function onClick() {\n          _this2._defaultTemplate('receipt_in_temp');\n        },\n        className: \"pointer pull-right mr-20 text-red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-file-code-o mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }), \" Template m\\u1EB7c \\u0111\\u1ECBnh\"), React.createElement(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Input, {\n        onChange: function onChange(e) {\n          _this2.setState({\n            receipt_in_temp: e.target.value\n          });\n        },\n        value: this.state.receipt_in_temp,\n        type: \"textarea\",\n        style: {\n          height: 300,\n          background: '#262A2E',\n          color: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      })))), React.createElement(FormGroup, {\n        row: true,\n        style: {\n          marginTop: 10,\n          border: 0,\n          margin: -20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: function onClick() {\n          _this2._onSubmit('receipt_in_temp');\n        },\n        className: \"btn btn-ubuntu bg-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa  fa-chevron-circle-right mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), \" C\\u1EADp nh\\u1EADt\"), React.createElement(\"span\", {\n        className: \"form-err text-red\",\n        id: \"form-err\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return InOutDisplayConfig;\n}(React.Component);\n\nexport default InOutDisplayConfig;","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/Inventory/Setting/InOutDisplayConfig.js"],"names":["MAU_PHIEU_XUATKHO","MAU_PHIEU_NHAPKHO","doUpdateModelInfo","React","FormGroup","Col","Label","Button","Input","BenTabs","PreviewForm","InOutDisplayConfig","props","_previewForm","type","setState","isOpenForm","state","onTab","tabs","icon","code","name","companyInfo","receipt_out_temp","arr","receipt_in_temp","field","data","id","res","newProps","JSON","stringify","info","isOpen","border","cursor","_defaultTemplate","marginTop","e","target","value","height","background","color","margin","_onSubmit","Component"],"mappings":";;;;;;;;;AACA,SAASA,iBAAT,EAA4BC,iBAA5B,QAAqD,kCAArD,C,CAEA;;AACA,OAAOC,iBAAP,MAA8B,uCAA9B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,KAAzB,EAAgCC,MAAhC,EAAwCC,KAAxC,QAAqD,YAArD;AAEA,OAAOC,OAAP,MAAoB,6BAApB;AAEA,OAAOC,WAAP,MAAwB,eAAxB;;IAGMC,kB;;;;;AAEF,8BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAAA;;AACf,4FAAMA,KAAN;;AADe,UAoBnBC,YApBmB,GAoBJ,UAACC,IAAD,EAAQ;AACnB,YAAKC,QAAL,CAAc;AACVD,QAAAA,IAAI,EAACA,IADK;AAEVE,QAAAA,UAAU,EAAC;AAFD,OAAd;AAIH,KAzBkB;;AAGf,UAAKC,KAAL;AAEIC,MAAAA,KAAK,EAAC,KAFV;AAGIC,MAAAA,IAAI,EAAC,CACD;AAAEC,QAAAA,IAAI,EAAC,EAAP;AAAUC,QAAAA,IAAI,EAAC,KAAf;AAAqBC,QAAAA,IAAI,EAAC;AAA1B,OADC,EAED;AAAEF,QAAAA,IAAI,EAAC,EAAP;AAAUC,QAAAA,IAAI,EAAC,IAAf;AAAoBC,QAAAA,IAAI,EAAC;AAAzB,OAFC,CAHT;AASIC,MAAAA,WAAW,EAAC,EAThB;AAWIC,MAAAA,gBAAgB;AAXpB,wGAae,KAbf;AAHe;AAkBlB;;;;qCAUgBV,I,EAAK;AAClB,UAAMW,GAAG,GAAG;AACRD,QAAAA,gBAAgB,EAACxB,iBADT;AAER0B,QAAAA,eAAe,EAAEzB;AAFT,OAAZ;AAKA,WAAKc,QAAL,qBACKD,IADL,EACWW,GAAG,CAACX,IAAD,CADd;AAKH;;;;;;gDAGea,K;;;;;;AAENC,gBAAAA,I;AACFC,kBAAAA,EAAE,EAAC,KAAKZ,KAAL,CAAWM,WAAX,CAAuBM;mBACzBF,K,EAAO,KAAKV,KAAL,CAAWU,KAAX,C;;uBAGOzB,iBAAiB,CAAC,WAAD,EAAa0B,IAAb,C;;;AAA9BE,gBAAAA,G;;;;;;;;;;;;;;;;;;;;;iDAIsBC,Q;;;;;;AAE5B,oBAAGC,IAAI,CAACC,SAAL,CAAeF,QAAQ,CAACR,WAAxB,KAAsC,IAAzC,EAA8C;AACpCW,kBAAAA,IADoC,GAC7BH,QAAQ,CAACR,WADoB;;AAG1C,sBAAGW,IAAI,CAACZ,IAAL,KAAY,SAAf,EAAyB;AAEfM,oBAAAA,IAFe,GAERM,IAAI,CAACN,IAFG,EAGrB;;AAEA,yBAAKb,QAAL,CAAc;AACVQ,sBAAAA,WAAW,EAACW,IAAI,CAACN,IADP;AAEVJ,sBAAAA,gBAAgB,EAAEI,IAAI,CAACJ,gBAAL,IAAyBxB,iBAFjC;AAGV0B,sBAAAA,eAAe,EAACE,IAAI,CAACF,eAAL,IAAwBzB;AAH9B,qBAAd;AAMH;AACJ;;;;;;;;;;;;;;;;;;6BAMI;AAAA;;AAIL,aAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,WAAD;AAEI,QAAA,IAAI,EAAC,qBAFT;AAGI,QAAA,IAAI,EAAE,KAAKgB,KAAL,CAAWH,IAHrB;AAKI,QAAA,KAAK,EAAC,KALV;AAMI,QAAA,MAAM,EAAE,KAAKG,KAAL,CAAWD,UANvB;AAOI,QAAA,QAAQ,EAAE,kBAACmB,MAAD,EAAU;AAAE,UAAA,MAAI,CAACpB,QAAL,CAAc;AAACC,YAAAA,UAAU,EAACmB;AAAZ,WAAd;AAAoC,SAP9D;AASI,QAAA,gBAAgB,EAAG,KAAKlB,KAAL,CAAWO,gBATlC;AAUI,QAAA,eAAe,EAAG,KAAKP,KAAL,CAAWS,eAVjC;AAYI,QAAA,WAAW,EAAE,KAAKT,KAAL,CAAWM,WAZ5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAkBI,oBAAC,OAAD;AACI,QAAA,WAAW,EAAE,qBAACF,IAAD,EAAQ;AAAE,UAAA,MAAI,CAACN,QAAL,CAAc;AAACG,YAAAA,KAAK,EAACG;AAAP,WAAd;AAA6B,SADxD;AAEI,QAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWE,IAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKI;AAAK,QAAA,SAAS,sBAAkB,KAAKF,KAAL,CAAWC,KAAX,KAAmB,KAAnB,GAAyB,QAAzB,GAAkC,EAApD,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAe,QAAA,KAAK,EAAE;AAACkB,UAAAA,MAAM,EAAC;AAAR,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEADJ,EAGI;AAAM,QAAA,KAAK,EAAE;AAACC,UAAAA,MAAM,EAAC;AAAR,SAAb;AAAiC,QAAA,OAAO,EAAE,mBAAI;AAAE,UAAA,MAAI,CAACxB,YAAL,CAAkB,kBAAlB;AAAuC,SAAvF;AAAyF,QAAA,SAAS,EAAC,sBAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,4BAHJ,EAOI;AAAM,QAAA,OAAO,EAAE,mBAAI;AAAE,UAAA,MAAI,CAACyB,gBAAL,CAAsB,kBAAtB;AAA2C,SAAhE;AAAkE,QAAA,SAAS,EAAC,mCAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,sCAPJ,EAWI;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,SAAS,EAAC;AAAX,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AACI,QAAA,QAAQ,EAAE,kBAACC,CAAD,EAAK;AAAE,UAAA,MAAI,CAACzB,QAAL,CAAc;AAACS,YAAAA,gBAAgB,EAACgB,CAAC,CAACC,MAAF,CAASC;AAA3B,WAAd;AAAkD,SADvE;AAEI,QAAA,KAAK,EAAG,KAAKzB,KAAL,CAAWO,gBAFvB;AAGI,QAAA,IAAI,EAAC,UAHT;AAGoB,QAAA,KAAK,EAAE;AACvBmB,UAAAA,MAAM,EAAC,GADgB;AAEvBC,UAAAA,UAAU,EAAC,SAFY;AAGvBC,UAAAA,KAAK,EAAC;AAHiB,SAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAXJ,CADJ,CADJ,EA4BI,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAe,QAAA,KAAK,EAAE;AAACN,UAAAA,SAAS,EAAC,EAAX;AAAeH,UAAAA,MAAM,EAAC,CAAtB;AAAyBU,UAAAA,MAAM,EAAC,CAAC;AAAjC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAG,mBAAI;AAAE,UAAA,MAAI,CAACC,SAAL,CAAe,kBAAf;AAAoC,SAA5D;AAA+D,QAAA,SAAS,EAAC,yBAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,kCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,wBADJ,EAII;AAAM,QAAA,SAAS,EAAC,mBAAhB;AAAoC,QAAA,EAAE,EAAC,UAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CADJ,CA5BJ,CALJ,EA4CI;AAAK,QAAA,SAAS,sBAAkB,KAAK9B,KAAL,CAAWC,KAAX,KAAmB,IAAnB,GAAwB,QAAxB,GAAiC,EAAnD,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAe,QAAA,KAAK,EAAE;AAACkB,UAAAA,MAAM,EAAC;AAAR,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEADJ,EAGI;AAAM,QAAA,KAAK,EAAE;AAACC,UAAAA,MAAM,EAAC;AAAR,SAAb;AAAiC,QAAA,OAAO,EAAE,mBAAI;AAAE,UAAA,MAAI,CAACxB,YAAL,CAAkB,iBAAlB;AAAsC,SAAtF;AAAwF,QAAA,SAAS,EAAC,sBAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,4BAHJ,EAOI;AAAM,QAAA,OAAO,EAAE,mBAAI;AAAE,UAAA,MAAI,CAACyB,gBAAL,CAAsB,iBAAtB;AAA0C,SAA/D;AAAiE,QAAA,SAAS,EAAC,mCAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,sCAPJ,EAWI;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,SAAS,EAAC;AAAX,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AACI,QAAA,QAAQ,EAAE,kBAACC,CAAD,EAAK;AAAE,UAAA,MAAI,CAACzB,QAAL,CAAc;AAACW,YAAAA,eAAe,EAACc,CAAC,CAACC,MAAF,CAASC;AAA1B,WAAd;AAAiD,SADtE;AAEI,QAAA,KAAK,EAAG,KAAKzB,KAAL,CAAWS,eAFvB;AAGI,QAAA,IAAI,EAAC,UAHT;AAGoB,QAAA,KAAK,EAAE;AACvBiB,UAAAA,MAAM,EAAC,GADgB;AAEvBC,UAAAA,UAAU,EAAC,SAFY;AAGvBC,UAAAA,KAAK,EAAC;AAHiB,SAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAXJ,CADJ,CADJ,EA4BI,oBAAC,SAAD;AAAW,QAAA,GAAG,MAAd;AAAe,QAAA,KAAK,EAAE;AAACN,UAAAA,SAAS,EAAC,EAAX;AAAeH,UAAAA,MAAM,EAAC,CAAtB;AAAyBU,UAAAA,MAAM,EAAC,CAAC;AAAjC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAG,mBAAI;AAAE,UAAA,MAAI,CAACC,SAAL,CAAe,iBAAf;AAAmC,SAA3D;AAA8D,QAAA,SAAS,EAAC,yBAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,kCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,wBADJ,EAII;AAAM,QAAA,SAAS,EAAC,mBAAhB;AAAoC,QAAA,EAAE,EAAC,UAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CADJ,CA5BJ,CA5CJ,CAlBJ,CAFJ;AA4GH;;;;EA9L4B5C,KAAK,CAAC6C,S;;AAmMvC,eAAerC,kBAAf","sourcesContent":["\r\nimport { MAU_PHIEU_XUATKHO, MAU_PHIEU_NHAPKHO } from '../../../config/temp-code-in-out';\r\n\r\n// HOOKS \r\nimport doUpdateModelInfo from '../../../hook/ultil/doUpdateModelInfo';\r\n\r\nimport React from 'react';\r\nimport { FormGroup, Col, Label, Button, Input } from 'reactstrap';\r\n\r\nimport BenTabs from '../../../components/BenTabs';\r\n\r\nimport PreviewForm from './PreviewForm';\r\n\r\n\r\nclass InOutDisplayConfig extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);  \r\n        \r\n        this.state = {\r\n\r\n            onTab:'out',  \r\n            tabs:[\r\n                { icon:'',code:'out',name:'Phiếu xuất kho' },\r\n                { icon:'',code:'in',name:'Phiếu nhập kho' },\r\n\r\n            ],\r\n            \r\n            companyInfo:{},\r\n\r\n            receipt_out_temp: `` ,\r\n            receipt_out_temp:``,\r\n            isOpenForm:false\r\n        };\r\n    }\r\n\r\n    _previewForm = (type)=>{ \r\n        this.setState({\r\n            type:type,  \r\n            isOpenForm:true\r\n        });\r\n    }\r\n    \r\n    \r\n    _defaultTemplate(type){\r\n        const arr = {\r\n            receipt_out_temp:MAU_PHIEU_XUATKHO,\r\n            receipt_in_temp: MAU_PHIEU_NHAPKHO\r\n        };\r\n\r\n        this.setState({\r\n            [type]:arr[type]\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    async _onSubmit(field){\r\n\r\n        const data = {\r\n            id:this.state.companyInfo.id,\r\n            [field]:this.state[field]\r\n        }\r\n\r\n        const res =  await doUpdateModelInfo('companies',data) ;\r\n\r\n    }\r\n \r\n    async componentWillReceiveProps(newProps){\r\n\r\n        if(JSON.stringify(newProps.companyInfo)!='{}'){\r\n            const info = newProps.companyInfo;\r\n            \r\n            if(info.name==='success'){\r\n\r\n                const data = info.data;\r\n                //alert(data.receipt_out_temp);\r\n\r\n                this.setState({\r\n                    companyInfo:info.data,\r\n                    receipt_out_temp: data.receipt_out_temp || MAU_PHIEU_XUATKHO,\r\n                    receipt_in_temp:data.receipt_in_temp || MAU_PHIEU_NHAPKHO,\r\n                });\r\n\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n\r\n\r\n        \r\n        return (\r\n\r\n            <div>\r\n                <PreviewForm \r\n                                \r\n                    name=\"Xem trước\"\r\n                    type={this.state.type}\r\n\r\n                    width=\"72%\"\r\n                    isOpen={this.state.isOpenForm}\r\n                    onToggle={(isOpen)=>{ this.setState({isOpenForm:isOpen}) }} \r\n\r\n                    receipt_out_temp={ this.state.receipt_out_temp } \r\n                    receipt_in_temp={ this.state.receipt_in_temp } \r\n                    \r\n                    companyInfo={this.state.companyInfo}\r\n\r\n                    \r\n                />\r\n\r\n                <BenTabs\r\n                    onChangeTab={(code)=>{ this.setState({onTab:code}) }}  \r\n                    tabs={this.state.tabs}>\r\n                    \r\n                    {/* TAB PHIẾU XUAT KHO  */}\r\n                    <div className={  `tab-pane  ${ this.state.onTab==='out'?'active':'' } ` }>\r\n                        <FormGroup row style={{border:0}}>\r\n                            <Col md={12}>\r\n                                <Label> Mẫu hiển thị phiếu xuất kho </Label>\r\n                                \r\n                                <span style={{cursor:'pointer'}} onClick={()=>{ this._previewForm('receipt_out_temp') }} className=\"txt-green pull-right\">  \r\n                                    <i className=\"fa fa-search-plus mr-5\"></i>    Xem trước \r\n                                </span>\r\n\r\n                                <span onClick={()=>{ this._defaultTemplate('receipt_out_temp') }} className=\"pointer pull-right mr-20 text-red\">  \r\n                                    <i className=\"fa fa-file-code-o mr-5\"></i> Template mặc định\r\n                                </span>\r\n\r\n                                <div style={{marginTop:10}}>\r\n                                    <Input \r\n                                        onChange={(e)=>{ this.setState({receipt_out_temp:e.target.value}) }}    \r\n                                        value={ this.state.receipt_out_temp }\r\n                                        type=\"textarea\" style={{\r\n                                        height:300,\r\n                                        background:'#262A2E',\r\n                                        color:'#fff'\r\n                                    }} />\r\n                                </div>\r\n\r\n                            </Col>\r\n                            \r\n                        </FormGroup>\r\n\r\n                        <FormGroup row style={{marginTop:10, border:0, margin:-20}}>\r\n                            <Col md={12}>\r\n                                <Button onClick={ ()=>{ this._onSubmit('receipt_out_temp') } } className=\"btn btn-ubuntu bg-green\"> \r\n                                    <i className=\"fa  fa-chevron-circle-right mr-5\"></i> Cập nhật \r\n                                </Button>        \r\n                                <span className=\"form-err text-red\" id=\"form-err\"></span>\r\n                            </Col>\r\n                        </FormGroup>\r\n                    </div>\r\n                \r\n                    {/* TAB PHIẾU NHAP KHO */}\r\n                    <div className={  `tab-pane  ${ this.state.onTab==='in'?'active':'' } ` }>\r\n                        <FormGroup row style={{border:0}}>\r\n                            <Col md={12}>\r\n                                <Label> Mẫu hiển thị phiếu nhập kho </Label>\r\n                                \r\n                                <span style={{cursor:'pointer'}} onClick={()=>{ this._previewForm('receipt_in_temp') }} className=\"txt-green pull-right\">  \r\n                                    <i className=\"fa fa-search-plus mr-5\"></i>    Xem trước \r\n                                </span>\r\n\r\n                                <span onClick={()=>{ this._defaultTemplate('receipt_in_temp') }} className=\"pointer pull-right mr-20 text-red\">  \r\n                                    <i className=\"fa fa-file-code-o mr-5\"></i> Template mặc định\r\n                                </span>\r\n\r\n                                <div style={{marginTop:10}}>\r\n                                    <Input \r\n                                        onChange={(e)=>{ this.setState({receipt_in_temp:e.target.value}) }}    \r\n                                        value={ this.state.receipt_in_temp }\r\n                                        type=\"textarea\" style={{\r\n                                        height:300,\r\n                                        background:'#262A2E',\r\n                                        color:'#fff'\r\n                                    }} />\r\n                                </div>\r\n\r\n                            </Col>\r\n                            \r\n                        </FormGroup>\r\n\r\n                        <FormGroup row style={{marginTop:10, border:0, margin:-20}}>\r\n                            <Col md={12}>\r\n                                <Button onClick={ ()=>{ this._onSubmit('receipt_in_temp') } } className=\"btn btn-ubuntu bg-green\"> \r\n                                    <i className=\"fa  fa-chevron-circle-right mr-5\"></i> Cập nhật \r\n                                </Button>        \r\n                                <span className=\"form-err text-red\" id=\"form-err\"></span>\r\n                            </Col>\r\n                        </FormGroup>\r\n                    </div>\r\n                    \r\n\r\n                </BenTabs>\r\n\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default InOutDisplayConfig;\r\n"]},"metadata":{},"sourceType":"module"}