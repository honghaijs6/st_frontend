{"ast":null,"code":"import _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\Customer\\\\Point\\\\index.js\";\nimport React, { Component } from 'react';\n/* OBJECT - PLUGIN*/\n\nimport Store from '../../../redux/store';\nimport Model from '../../../model/model';\n/* HOOKED*/\n\n/*............*/\n\n/* NAMED*/\n\nimport { CUSTOMERS } from '../../../model/model-mode';\nimport { CUSTOMER_NAME } from '../../../model/model-name';\nimport { POST, SEARCH } from '../../../model/action-mode';\n/*------------*/\n\n/* MODAL FORM & CTRL */\n\n/*INCLUDE OTHER COMPONENT*/\n\nimport { BenGrid } from '../../../components/BenGrid2';\n\nvar Point =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Point, _Component);\n\n  function Point() {\n    var _this;\n\n    _classCallCheck(this, Point);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Point).call(this));\n    _this.state = {\n      typeAction: '',\n      onAction: '',\n      status: ''\n    };\n    _this.data = {\n      customers: ''\n    };\n    _this.grid = {\n      colums: [{\n        headerName: \"Mã\",\n        field: \"type\"\n      }, {\n        headerName: \"Khách hàng\",\n        field: \"type\"\n      }, {\n        headerName: \"Loại\",\n        field: \"type\"\n      }, {\n        headerName: \"Hình thức\",\n        field: \"date_created\"\n      }, {\n        headerName: \"Mã đơn hàng\",\n        field: \"code\"\n      }, {\n        headerName: \"Điểm\",\n        field: \"inventory_id\"\n      }, {\n        headerName: \"Ngày tạo\",\n        field: \"action_type\"\n      }],\n      rowData: []\n    };\n\n    _this._setup();\n\n    return _this;\n  }\n\n  _createClass(Point, [{\n    key: \"_setup\",\n    value: function _setup() {\n      this.model = new Model(CUSTOMERS);\n      this.model.set('paginate', {\n        offset: 0,\n        p: 0,\n        max: 20,\n        is_deleted: 0,\n        key: ''\n      });\n\n      this._listenStore();\n    }\n    /* HOW */\n\n  }, {\n    key: \"resetGrid\",\n    value: function resetGrid() {}\n    /*let list = this.data.users || []  ;\r\n      list.filter((item)=>{\r\n      item['str_job_level'] = userConf.job_level[item['job_level']];\r\n      item['str_job_type'] = userConf.job_type[item['job_type']];\r\n      item['str_phone'] = item['phone'] === null ? 'n/a' : item['phone'];\r\n      item['str_date_created'] = moment(item['date_created']).format('YYYY-MM-DD');\r\n    });\r\n      //alert('resetGrid');\r\n    this.grid.rowData = list ;*/\n\n    /* WHEN */\n\n    /*componentDidMount(){}*/\n\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unsubscribe();\n    }\n  }, {\n    key: \"_listenStore\",\n    value: function _listenStore() {\n      var _this2 = this;\n\n      this.unsubscribe = Store.subscribe(function () {\n        _this2.data.customers = Store.getState().customer.list || [];\n\n        _this2._whereStateChange({\n          onAction: '_listenStore'\n        });\n      });\n    }\n  }, {\n    key: \"_whereStateChange\",\n    value: function _whereStateChange(newState) {\n      this.setState(Object.assign(this.state, newState));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"animated fadeIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"blank-app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(BenGrid, {\n        isRightTool: false,\n        height: \"79.9vh\",\n        nextColums: this.grid.colums,\n        rowData: this.grid.rowData,\n        model: this.model,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Point;\n}(Component);\n\nexport default Point;","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/Customer/Point/index.js"],"names":["React","Component","Store","Model","CUSTOMERS","CUSTOMER_NAME","POST","SEARCH","BenGrid","Point","state","typeAction","onAction","status","data","customers","grid","colums","headerName","field","rowData","_setup","model","set","offset","p","max","is_deleted","key","_listenStore","unsubscribe","subscribe","getState","customer","list","_whereStateChange","newState","setState","Object","assign"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\n\r\n/* OBJECT - PLUGIN*/\r\nimport Store from '../../../redux/store';\r\nimport Model from '../../../model/model';\r\n\r\n/* HOOKED*/\r\n/*............*/\r\n\r\n/* NAMED*/\r\nimport { CUSTOMERS } from '../../../model/model-mode';\r\nimport { CUSTOMER_NAME } from '../../../model/model-name';\r\nimport { POST, SEARCH } from '../../../model/action-mode';\r\n/*------------*/\r\n\r\n/* MODAL FORM & CTRL */\r\n\r\n/*INCLUDE OTHER COMPONENT*/\r\nimport { BenGrid } from '../../../components/BenGrid2';\r\n\r\n\r\nclass Point extends Component{\r\n\r\n  constructor(){\r\n    super();\r\n\r\n    this.state = {\r\n      typeAction:'',\r\n      onAction:'',\r\n      status:''\r\n    }\r\n\r\n    this.data = {\r\n      customers:''\r\n    }\r\n\r\n    this.grid = {\r\n      colums:[\r\n        {headerName: \"Mã\", field: \"type\"},\r\n        {headerName: \"Khách hàng\", field: \"type\"},\r\n        {headerName: \"Loại\", field: \"type\"},\r\n        {headerName: \"Hình thức\", field: \"date_created\"},\r\n        {headerName: \"Mã đơn hàng\", field: \"code\"},\r\n        {headerName: \"Điểm\", field: \"inventory_id\"},\r\n        {headerName: \"Ngày tạo\", field: \"action_type\"}\r\n      ],\r\n      rowData: []\r\n    }\r\n\r\n    this._setup();\r\n\r\n\r\n  }\r\n\r\n  _setup(){\r\n    this.model = new Model(CUSTOMERS);\r\n    this.model.set('paginate',{\r\n      offset:0,\r\n      p:0,\r\n      max:20,\r\n      is_deleted:0,\r\n      key:''\r\n    });\r\n\r\n\r\n    this._listenStore();\r\n  }\r\n\r\n  /* HOW */\r\n  resetGrid(){\r\n      /*let list = this.data.users || []  ;\r\n\r\n      list.filter((item)=>{\r\n        item['str_job_level'] = userConf.job_level[item['job_level']];\r\n        item['str_job_type'] = userConf.job_type[item['job_type']];\r\n        item['str_phone'] = item['phone'] === null ? 'n/a' : item['phone'];\r\n        item['str_date_created'] = moment(item['date_created']).format('YYYY-MM-DD');\r\n      });\r\n\r\n      //alert('resetGrid');\r\n      this.grid.rowData = list ;*/\r\n\r\n  }\r\n\r\n\r\n  /* WHEN */\r\n  /*componentDidMount(){}*/\r\n  componentWillUnmount() {\r\n    this.unsubscribe();\r\n  }\r\n  _listenStore(){\r\n\r\n    this.unsubscribe = Store.subscribe(()=>{\r\n\r\n      this.data.customers = Store.getState().customer.list || []  ;\r\n\r\n      this._whereStateChange({\r\n        onAction:'_listenStore'\r\n      });\r\n\r\n    })\r\n  }\r\n\r\n  _whereStateChange(newState){\r\n    this.setState(Object.assign(this.state,newState));\r\n  }\r\n\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <div className=\"blank-app\">\r\n              <BenGrid\r\n\r\n                 isRightTool={ false }\r\n                 height=\"79.9vh\"\r\n                 nextColums={ this.grid.colums }\r\n                 rowData={this.grid.rowData}\r\n                 model={ this.model }\r\n\r\n              />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Point;\r\n"]},"metadata":{},"sourceType":"module"}