{"ast":null,"code":"import _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\pages\\\\PushSDK\\\\devicePage.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Table, Row, Col, ButtonGroup, Button } from 'reactstrap';\nimport { toast } from \"react-toastify\";\nimport server from '../../../config/server';\nvar MAU_JSON = \"{\\n  \\\"desc\\\": \\\"ok\\\",\\n  \\\"data\\\": [{\\n          \\\"sn\\\": \\\"s\\u1ED1 serial\\\",\\n          \\\"LockCount\\\": \\\"s\\u1ED1 kho\\xE1\\\",\\n          \\\"FirmVer\\\": \\\"Phi\\xEAn b\\u1EA3n\\\",\\n          \\\"registrycode\\\": \\\"m\\xE3 \\u0111\\u0103ng k\\xFD push\\\",\\n          \\\"DeviceName\\\": \\\"t\\xEAn thi\\u1EBFt b\\u1ECB\\\"\\n      }\\n\\n  ]\\n}\";\nvar MAU_JSON2 = \"{\\n  \\\"desc\\\": \\\"ok\\\",\\n}\";\n\nvar Devices =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Devices, _React$Component);\n\n  function Devices(props) {\n    var _this;\n\n    _classCallCheck(this, Devices);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Devices).call(this, props));\n    _this.state = {\n      server: server.base(),\n      typeAction: '',\n      // post - put - delete ...\n      onAction: '',\n      // string method\n      status: '',\n      viewSupport: false,\n      tab: 'devicePage'\n    };\n    _this.grid = {\n      columnDefs: [{\n        headerName: \"Serial No\",\n        field: \"sn\",\n        width: 200\n      }, {\n        headerName: \"Device Name\",\n        field: \"DeviceName\",\n        width: 330\n      }, {\n        headerName: \"Lock count \",\n        field: \"LockCount\",\n        width: 140\n      }, {\n        headerName: \"Register Code\t\",\n        field: \"registrycode\",\n        width: 200\n      }, {\n        headerName: \"Device Version\",\n        field: \"FirmVer\",\n        width: 340\n      }],\n      rowData: []\n    };\n    _this._viewSupport = _this._viewSupport.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Devices, [{\n    key: \"_viewSupport\",\n    value: function _viewSupport() {\n      this.setState({\n        viewSupport: !this.state.viewSupport\n      });\n    }\n  }, {\n    key: \"_openDoor\",\n    value: function _openDoor(json) {\n      var url = server.base() + '/pushapi/createCmd?cmdType=userDefined&sn=' + json.sn + '&originalCmd=CONTROL DEVICE 01010103';\n      toast.info('Đã mở khoá ');\n      axios.post(url).then(function (responese) {\n        var res = responese.data;\n        toast.info('Khoá đã đóng : ' + json.sn);\n        /*if(res.desc==='ok'){\r\n             toast.info('Đã mở khoá : '+json.sn);\r\n        }*/\n      });\n    }\n  }, {\n    key: \"_synchronize\",\n    value: function _synchronize(json) {\n      var url = server.base() + '/pushapi/deviceServlet?type=2&sn=' + json.sn;\n      axios.post(url).then(function (responese) {\n        var res = responese.data;\n\n        if (res.desc === 'ok') {\n          toast.info('Đã đồng bộ  : ' + json.sn);\n        }\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      switch (newProps.onAction) {\n        case 'viewSupport':\n          if (newProps.onTab === this.state.tab) {\n            this.setState({\n              viewSupport: !this.state.viewSupport\n            });\n          }\n\n          break;\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var url = server.base() + '/pushapi/deviceServlet?type=1';\n      axios.post(url).then(function (responese) {\n        var res = responese.data;\n\n        if (res.desc === 'ok') {\n          _this2.grid.rowData = res.data;\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        style: {\n          padding: 30\n        },\n        hidden: this.props.onTab === this.state.tab ? false : true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          marginBottom: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this._viewSupport,\n        className: \"btn btn-sm btn-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \" \", React.createElement(\"i\", {\n        className: \"fa fa-support mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), \" H\\u01B0\\u1EDBng d\\u1EA9n \")), React.createElement(\"div\", {\n        hidden: !this.state.viewSupport ? false : true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        style: {\n          border: 0,\n          background: '#222D32',\n          color: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        style: {\n          width: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"#\"), this.grid.columnDefs.map(function (item, index) {\n        return React.createElement(\"th\", {\n          key: index,\n          style: {\n            width: item.width\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \" \", item.headerName, \" \");\n      }), React.createElement(\"th\", {\n        style: {\n          width: 180\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Operation\"))), React.createElement(\"tbody\", {\n        style: {\n          height: '74vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, this.grid.rowData.map(function (item, index) {\n        var stt = index + 1;\n        return React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          style: {\n            width: 30\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, stt), _this3.grid.columnDefs.map(function (item2, index2) {\n          return React.createElement(\"td\", {\n            key: index2,\n            style: {\n              width: item2.width + 'px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175\n            },\n            __self: this\n          }, \" \", item[item2['field']]);\n        }), React.createElement(\"td\", {\n          style: {\n            width: 140\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, React.createElement(ButtonGroup, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: function onClick() {\n            _this3._openDoor(item);\n          },\n          className: \"btn btn-sm btn-success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-unlock mr-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }), \" Remote Open \"), React.createElement(Button, {\n          onClick: function onClick() {\n            _this3._synchronize(item);\n          },\n          className: \"btn btn-sm btn-danger\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-unlock mr-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }), \"  Synchronize \"))));\n      })))), React.createElement(\"div\", {\n        style: {\n          fontFamily: 'Roboto'\n        },\n        hidden: !this.state.viewSupport ? true : false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"guidebook\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \" Thao t\\xE1c v\\u1EC1 thi\\u1EBFt b\\u1ECB \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"  Ph\\u1EA7n n\\xE0y l\\xE0 h\\u01B0\\u1EDBng d\\u1EA9n cho ch\\u01B0\\u01A1ng tr\\xECnh demo v\\u1EC1 thi\\u1EBFt b\\u1ECB   \"), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \" Request \"), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \" URL: /pushapi/deviceServlet?type=[numer] \"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \" Method : POST \")), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \" Query Parameter \"), React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        style: {\n          border: 0,\n          background: '#222D32',\n          color: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        style: {\n          width: '60px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \" Type \"), React.createElement(\"th\", {\n        style: {\n          width: 500\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"M\\xF4 t\\u1EA3\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, \" 1 \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \" L\\u1EA5y danh s\\xE1ch c\\xE1c thi\\u1EBFt b\\u1ECB \")), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, \"2\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, \" \\u0110\\u1ED3ng b\\u1ED9 th\\u1EDDi gian thi\\u1EBFt b\\u1ECB \")))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"txt-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \" L\\u1EA5y danh s\\xE1ch thi\\u1EBFt b\\u1ECB \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, \" URL: /pushapi/deviceServlet?type=1 \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, \" Response : JSON Object \"), React.createElement(\"pre\", {\n        style: {\n          background: '#263238',\n          color: '#f1f1f1',\n          padding: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, MAU_JSON), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"txt-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, \" \\u0110\\u1ED3ng b\\u1ED9 th\\u1EDDi gian ti\\u1EBFt b\\u1ECB \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \" URL: /pushapi/deviceServlet?type=2&sn=[\", React.createElement(\"span\", {\n        className: \"txt-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \"serialNo\"), \"] \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, \" Response : JSON Object \"), React.createElement(\"pre\", {\n        style: {\n          background: '#263238',\n          color: '#f1f1f1',\n          padding: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, MAU_JSON2), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"txt-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, \" M\\u1EDF kho\\xE1 \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \" URL:/pushapi/createCmd?cmdType=userDefined&sn=[\", React.createElement(\"span\", {\n        className: \"txt-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"serialNo\"), \"]&originalCmd=\", React.createElement(\"span\", {\n        className: \"txt-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"CONTROL DEVICE 01010103\"), \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \" Response : JSON Object \"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Devices;\n}(React.Component);\n\nexport default Devices;","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/pages/PushSDK/devicePage.js"],"names":["React","axios","Table","Row","Col","ButtonGroup","Button","toast","server","MAU_JSON","MAU_JSON2","Devices","props","state","base","typeAction","onAction","status","viewSupport","tab","grid","columnDefs","headerName","field","width","rowData","_viewSupport","bind","setState","json","url","sn","info","post","then","responese","res","data","desc","newProps","onTab","padding","marginBottom","border","background","color","map","item","index","height","stt","item2","index2","_openDoor","_synchronize","fontFamily","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { Table, Row, Col, ButtonGroup, Button } from 'reactstrap';\r\nimport { toast } from \"react-toastify\";\r\n\r\n\r\nimport server from '../../../config/server';\r\n\r\n\r\n\r\nconst MAU_JSON = `{\r\n  \"desc\": \"ok\",\r\n  \"data\": [{\r\n          \"sn\": \"số serial\",\r\n          \"LockCount\": \"số khoá\",\r\n          \"FirmVer\": \"Phiên bản\",\r\n          \"registrycode\": \"mã đăng ký push\",\r\n          \"DeviceName\": \"tên thiết bị\"\r\n      }\r\n\r\n  ]\r\n}`;\r\n\r\nconst MAU_JSON2 = `{\r\n  \"desc\": \"ok\",\r\n}`;\r\n\r\n\r\nclass Devices extends React.Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      server: server.base(),\r\n      typeAction:'', // post - put - delete ...\r\n      onAction:'', // string method\r\n      status:'',\r\n      viewSupport:false,\r\n\r\n      tab:'devicePage',\r\n\r\n    }\r\n\r\n    this.grid = {\r\n      columnDefs:[\r\n        {headerName: \"Serial No\", field: \"sn\",width:200},\r\n        {headerName: \"Device Name\", field: \"DeviceName\",width:330},\r\n        {headerName: \"Lock count \", field: \"LockCount\",width:140},\r\n        {headerName: \"Register Code\t\", field: \"registrycode\",width:200},\r\n        {headerName: \"Device Version\", field: \"FirmVer\",width:340}\r\n\r\n\r\n      ],\r\n      rowData: []\r\n    }\r\n\r\n    this._viewSupport = this._viewSupport.bind(this);\r\n\r\n  }\r\n\r\n  _viewSupport(){\r\n    this.setState({\r\n      viewSupport: !this.state.viewSupport\r\n    })\r\n  }\r\n\r\n  _openDoor(json){\r\n\r\n    const url = server.base()+'/pushapi/createCmd?cmdType=userDefined&sn='+json.sn+'&originalCmd=CONTROL DEVICE 01010103';\r\n    toast.info('Đã mở khoá ');\r\n    axios.post(url).then((responese)=>{\r\n      const res = responese.data ;\r\n\r\n      toast.info('Khoá đã đóng : '+json.sn);\r\n\r\n      /*if(res.desc==='ok'){\r\n           toast.info('Đã mở khoá : '+json.sn);\r\n      }*/\r\n\r\n    })\r\n  }\r\n\r\n  _synchronize(json){\r\n    const url = server.base()+'/pushapi/deviceServlet?type=2&sn='+json.sn;\r\n    axios.post(url).then((responese)=>{\r\n      const res = responese.data ;\r\n\r\n      if(res.desc==='ok'){\r\n           toast.info('Đã đồng bộ  : '+json.sn);\r\n      }\r\n\r\n\r\n    })\r\n\r\n\r\n  }\r\n\r\n\r\n  componentWillReceiveProps(newProps){\r\n\r\n    switch(newProps.onAction){\r\n      case 'viewSupport':\r\n\r\n          if(newProps.onTab === this.state.tab){\r\n             this.setState({\r\n               viewSupport: !this.state.viewSupport\r\n             })\r\n          }\r\n      break;\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n    const url = server.base()+'/pushapi/deviceServlet?type=1';\r\n    axios.post(url).then((responese)=>{\r\n      const res = responese.data ;\r\n      if(res.desc==='ok'){\r\n        this.grid.rowData = res.data ;\r\n\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n\r\n    return (\r\n      <div style={{padding:30}} hidden={  this.props.onTab === this.state.tab ? false : true } >\r\n\r\n          <div style={{marginBottom:20}}>\r\n            <button onClick={this._viewSupport} className=\"btn btn-sm btn-success\"> <i className=\"fa fa-support mr-5\" /> Hướng dẩn </button>\r\n          </div>\r\n\r\n          <div hidden={!this.state.viewSupport ? false : true } >\r\n            <Table  className=\"table\" >\r\n              <thead style={{ border:0, background:'#222D32', color:'#fff' }} >\r\n                <tr>\r\n                  <th style={{width: 30}}>\r\n                      #\r\n                  </th>\r\n                  {\r\n                    this.grid.columnDefs.map((item,index)=>{\r\n                      return(\r\n                        <th key={index} style={{\r\n                          width: item.width\r\n                        }} > { item.headerName } </th>\r\n                      )\r\n                    })\r\n                  }\r\n                  <th style={{width: 180}}>\r\n                    Operation\r\n                  </th>\r\n\r\n\r\n                </tr>\r\n              </thead>\r\n\r\n              <tbody style={{height: '74vh'}}>\r\n                {\r\n                  this.grid.rowData.map((item,index)=>{\r\n\r\n                    let stt = index + 1 ;\r\n                    return(\r\n                      <tr key={index}>\r\n                        <td style={{width: 30}}>\r\n                          { stt }\r\n                        </td>\r\n                        {\r\n                          this.grid.columnDefs.map((item2,index2)=>{\r\n                              return(\r\n                                <td key={index2} style={{\r\n                                  width: item2.width+'px'\r\n                                }}> { item[item2['field']] }\r\n\r\n                                </td>\r\n                              )\r\n                          })\r\n                        }\r\n                        <td style={{width: 140}}>\r\n                          <ButtonGroup>\r\n\r\n                              <Button onClick={ ()=>{ this._openDoor(item) } } className=\"btn btn-sm btn-success\"><i className=\"fa fa-unlock mr-5\" /> Remote Open </Button>\r\n                              <Button onClick={ ()=>{ this._synchronize(item) } } className=\"btn btn-sm btn-danger\"><i className=\"fa fa-unlock mr-5\" />  Synchronize </Button>\r\n\r\n                          </ButtonGroup>\r\n                        </td>\r\n                      </tr>\r\n                    )\r\n                  })\r\n                }\r\n\r\n              </tbody>\r\n\r\n\r\n            </Table>\r\n          </div>\r\n\r\n\r\n          <div style={{ fontFamily:'Roboto'}} hidden={ !this.state.viewSupport ? true : false }>\r\n              <div className=\"guidebook\">\r\n\r\n              <h3> Thao tác về thiết bị </h3>\r\n              <p>  Phần này là hướng dẩn cho chương trình demo về thiết bị   </p>\r\n\r\n              <h5> Request </h5>\r\n              <ul>\r\n                  <li> URL: /pushapi/deviceServlet?type=[numer] </li>\r\n                  <li> Method : POST </li>\r\n              </ul>\r\n              <h5> Query Parameter </h5>\r\n              <Table>\r\n                  <thead style={{ border:0, background:'#222D32', color:'#fff' }}>\r\n                      <tr>\r\n                          <th style={{width:'60px'}}> Type </th>\r\n                          <th style={{width:500}}>Mô tả</th>\r\n                      </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                      <tr>\r\n                          <td> 1 </td>\r\n                          <td> Lấy danh sách các thiết bị </td>\r\n                      </tr>\r\n                      <tr>\r\n                          <td>2</td>\r\n                          <td> Đồng bộ thời gian thiết bị </td>\r\n                      </tr>\r\n\r\n                  </tbody>\r\n              </Table>\r\n\r\n                <br></br>\r\n                <p className=\"txt-green\"> Lấy danh sách thiết bị </p>\r\n                <p> URL: /pushapi/deviceServlet?type=1 </p>\r\n                <p> Response : JSON Object </p>\r\n\r\n                <pre style={{\r\n                  background:'#263238',\r\n                  color:'#f1f1f1',\r\n                  padding:20\r\n                }}>\r\n                  { MAU_JSON }\r\n                </pre>\r\n\r\n                <br></br>\r\n                <br></br>\r\n\r\n                <p className=\"txt-green\"> Đồng bộ thời gian tiết bị </p>\r\n                <p> URL: /pushapi/deviceServlet?type=2&sn=[<span className=\"txt-green\">serialNo</span>] </p>\r\n                <p> Response : JSON Object </p>\r\n\r\n                <pre style={{\r\n                  background:'#263238',\r\n                  color:'#f1f1f1',\r\n                  padding:20\r\n                }}>\r\n                  { MAU_JSON2 }\r\n                </pre>\r\n\r\n                <br></br>\r\n                <br></br>\r\n                <p className=\"txt-green\"> Mở khoá </p>\r\n                <p> URL:/pushapi/createCmd?cmdType=userDefined&sn=[<span className=\"txt-green\">serialNo</span>]&originalCmd=<span className=\"txt-green\">CONTROL DEVICE 01010103</span> </p>\r\n                <p> Response : JSON Object </p>\r\n\r\n                <br></br>\r\n                <br></br>\r\n\r\n                <br></br>\r\n                <br></br>\r\n\r\n                <br></br>\r\n                <br></br>\r\n              </div>\r\n          </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Devices ;\r\n"]},"metadata":{},"sourceType":"module"}