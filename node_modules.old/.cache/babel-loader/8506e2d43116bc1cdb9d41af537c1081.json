{"ast":null,"code":"import _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\pages\\\\DemoTicket\\\\Components\\\\tabs\\\\Devices.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Table, Row, Col, ButtonGroup, Button } from 'reactstrap';\nimport { toast } from \"react-toastify\";\nimport server from '../../../../../config/server';\n\nvar Devices =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Devices, _React$Component);\n\n  function Devices(props) {\n    var _this;\n\n    _classCallCheck(this, Devices);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Devices).call(this, props));\n    _this.state = {\n      server: server.base(),\n      typeAction: '',\n      // post - put - delete ...\n      onAction: '',\n      // string method\n      status: ''\n    };\n    _this.grid = {\n      columnDefs: [{\n        headerName: \"Serial No\",\n        field: \"sn\",\n        width: 200\n      }, {\n        headerName: \"Device Name\",\n        field: \"DeviceName\",\n        width: 330\n      }, {\n        headerName: \"Lock count \",\n        field: \"LockCount\",\n        width: 140\n      }, {\n        headerName: \"Register Code\t\",\n        field: \"registrycode\",\n        width: 200\n      }, {\n        headerName: \"Device Version\",\n        field: \"FirmVer\",\n        width: 340\n      }],\n      rowData: []\n    };\n    return _this;\n  }\n\n  _createClass(Devices, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var url = server.base() + '/pushapi/deviceServlet?type=1';\n      axios.post(url).then(function (responese) {\n        var res = responese.data;\n\n        if (res.desc === 'ok') {\n          _this2.grid.rowData = res.data;\n        }\n      });\n    }\n  }, {\n    key: \"_openDoor\",\n    value: function _openDoor(json) {\n      var url = server.base() + '/pushapi/createCmd?cmdType=userDefined&sn=' + json.sn + '&originalCmd=CONTROL DEVICE 01010103';\n      toast.info('Đã mở khoá ');\n      axios.post(url).then(function (responese) {\n        var res = responese.data;\n        toast.info('Khoá đã đóng : ' + json.sn);\n        /*if(res.desc==='ok'){\r\n             toast.info('Đã mở khoá : '+json.sn);\r\n        }*/\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(Table, {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        style: {\n          border: 0,\n          background: '#222D32',\n          color: '#fff'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        style: {\n          width: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"#\"), this.grid.columnDefs.map(function (item, index) {\n        return React.createElement(\"th\", {\n          key: index,\n          style: {\n            width: item.width\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, \" \", item.headerName, \" \");\n      }), React.createElement(\"th\", {\n        style: {\n          width: 180\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Operation\"))), React.createElement(\"tbody\", {\n        style: {\n          height: '74vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, this.grid.rowData.map(function (item, index) {\n        var stt = index + 1;\n        return React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          style: {\n            width: 30\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, stt), _this3.grid.columnDefs.map(function (item2, index2) {\n          return React.createElement(\"td\", {\n            key: index2,\n            style: {\n              width: item2.width + 'px'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          }, \" \", item[item2['field']]);\n        }), React.createElement(\"td\", {\n          style: {\n            width: 140\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(ButtonGroup, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: function onClick() {\n            _this3._openDoor(item);\n          },\n          className: \"btn btn-sm btn-success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-unlock mr-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }), \" Remote Open \"))));\n      })));\n    }\n  }]);\n\n  return Devices;\n}(React.Component);\n\nexport default Devices;","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/pages/DemoTicket/Components/tabs/Devices.js"],"names":["React","axios","Table","Row","Col","ButtonGroup","Button","toast","server","Devices","props","state","base","typeAction","onAction","status","grid","columnDefs","headerName","field","width","rowData","url","post","then","responese","res","data","desc","json","sn","info","border","background","color","map","item","index","height","stt","item2","index2","_openDoor","Component"],"mappings":";;;;;;AACA,OAAQA,KAAR,MAAmB,OAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,KAAT,EAAgBC,GAAhB,EAAqBC,GAArB,EAA0BC,WAA1B,EAAuCC,MAAvC,QAAqD,YAArD;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,OAAOC,MAAP,MAAmB,8BAAnB;;IAKMC,O;;;;;AAEJ,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAEjB,iFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AAEXH,MAAAA,MAAM,EAAEA,MAAM,CAACI,IAAP,EAFG;AAGXC,MAAAA,UAAU,EAAC,EAHA;AAGI;AACfC,MAAAA,QAAQ,EAAC,EAJE;AAIE;AACbC,MAAAA,MAAM,EAAC;AALI,KAAb;AASA,UAAKC,IAAL,GAAY;AACVC,MAAAA,UAAU,EAAC,CACT;AAACC,QAAAA,UAAU,EAAE,WAAb;AAA0BC,QAAAA,KAAK,EAAE,IAAjC;AAAsCC,QAAAA,KAAK,EAAC;AAA5C,OADS,EAET;AAACF,QAAAA,UAAU,EAAE,aAAb;AAA4BC,QAAAA,KAAK,EAAE,YAAnC;AAAgDC,QAAAA,KAAK,EAAC;AAAtD,OAFS,EAGT;AAACF,QAAAA,UAAU,EAAE,aAAb;AAA4BC,QAAAA,KAAK,EAAE,WAAnC;AAA+CC,QAAAA,KAAK,EAAC;AAArD,OAHS,EAIT;AAACF,QAAAA,UAAU,EAAE,gBAAb;AAA+BC,QAAAA,KAAK,EAAE,cAAtC;AAAqDC,QAAAA,KAAK,EAAC;AAA3D,OAJS,EAKT;AAACF,QAAAA,UAAU,EAAE,gBAAb;AAA+BC,QAAAA,KAAK,EAAE,SAAtC;AAAgDC,QAAAA,KAAK,EAAC;AAAtD,OALS,CADD;AAUVC,MAAAA,OAAO,EAAE;AAVC,KAAZ;AAbiB;AA2BlB;;;;wCAEkB;AAAA;;AAEjB,UAAMC,GAAG,GAAGd,MAAM,CAACI,IAAP,KAAc,+BAA1B;AACAX,MAAAA,KAAK,CAACsB,IAAN,CAAWD,GAAX,EAAgBE,IAAhB,CAAqB,UAACC,SAAD,EAAa;AAChC,YAAMC,GAAG,GAAGD,SAAS,CAACE,IAAtB;;AACA,YAAGD,GAAG,CAACE,IAAJ,KAAW,IAAd,EAAmB;AACjB,UAAA,MAAI,CAACZ,IAAL,CAAUK,OAAV,GAAoBK,GAAG,CAACC,IAAxB;AAED;AACF,OAND;AAQD;;;8BAISE,I,EAAK;AAEb,UAAMP,GAAG,GAAGd,MAAM,CAACI,IAAP,KAAc,4CAAd,GAA2DiB,IAAI,CAACC,EAAhE,GAAmE,sCAA/E;AACAvB,MAAAA,KAAK,CAACwB,IAAN,CAAW,aAAX;AACA9B,MAAAA,KAAK,CAACsB,IAAN,CAAWD,GAAX,EAAgBE,IAAhB,CAAqB,UAACC,SAAD,EAAa;AAChC,YAAMC,GAAG,GAAGD,SAAS,CAACE,IAAtB;AAEApB,QAAAA,KAAK,CAACwB,IAAN,CAAW,oBAAkBF,IAAI,CAACC,EAAlC;AAEA;;;AAID,OATD;AAUD;;;6BAGQ;AAAA;;AACP,aACE,oBAAC,KAAD;AAAQ,QAAA,SAAS,EAAC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEQ;AAAO,QAAA,KAAK,EAAE;AAAEE,UAAAA,MAAM,EAAC,CAAT;AAAYC,UAAAA,UAAU,EAAC,SAAvB;AAAkCC,UAAAA,KAAK,EAAC;AAAxC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,KAAK,EAAE;AAACd,UAAAA,KAAK,EAAE;AAAR,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAKI,KAAKJ,IAAL,CAAUC,UAAV,CAAqBkB,GAArB,CAAyB,UAACC,IAAD,EAAMC,KAAN,EAAc;AACrC,eACE;AAAI,UAAA,GAAG,EAAEA,KAAT;AAAgB,UAAA,KAAK,EAAE;AACrBjB,YAAAA,KAAK,EAAEgB,IAAI,CAAChB;AADS,WAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAEOgB,IAAI,CAAClB,UAFZ,MADF;AAKD,OAND,CALJ,EAaE;AAAI,QAAA,KAAK,EAAE;AAACE,UAAAA,KAAK,EAAE;AAAR,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAbF,CADF,CAFR,EAwBQ;AAAO,QAAA,KAAK,EAAE;AAACkB,UAAAA,MAAM,EAAE;AAAT,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,KAAKtB,IAAL,CAAUK,OAAV,CAAkBc,GAAlB,CAAsB,UAACC,IAAD,EAAMC,KAAN,EAAc;AAElC,YAAIE,GAAG,GAAGF,KAAK,GAAG,CAAlB;AACA,eACE;AAAI,UAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAI,UAAA,KAAK,EAAE;AAACjB,YAAAA,KAAK,EAAE;AAAR,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACImB,GADJ,CADF,EAKI,MAAI,CAACvB,IAAL,CAAUC,UAAV,CAAqBkB,GAArB,CAAyB,UAACK,KAAD,EAAOC,MAAP,EAAgB;AACrC,iBACE;AAAI,YAAA,GAAG,EAAEA,MAAT;AAAiB,YAAA,KAAK,EAAE;AACtBrB,cAAAA,KAAK,EAAEoB,KAAK,CAACpB,KAAN,GAAY;AADG,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEMgB,IAAI,CAACI,KAAK,CAAC,OAAD,CAAN,CAFV,CADF;AAOH,SARD,CALJ,EAeE;AAAI,UAAA,KAAK,EAAE;AAACpB,YAAAA,KAAK,EAAE;AAAR,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,MAAD;AAAQ,UAAA,OAAO,EAAG,mBAAI;AAAE,YAAA,MAAI,CAACsB,SAAL,CAAeN,IAAf;AAAsB,WAA9C;AAAiD,UAAA,SAAS,EAAC,wBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAoF;AAAG,UAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAApF,kBADJ,CADF,CAfF,CADF;AAuBD,OA1BD,CAFJ,CAxBR,CADF;AA6DD;;;;EA7HmBpC,KAAK,CAAC2C,S;;AAkI5B,eAAelC,OAAf","sourcesContent":["\r\nimport  React from 'react';\r\nimport axios from 'axios' ;\r\n\r\nimport { Table, Row, Col, ButtonGroup, Button } from 'reactstrap';\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport server from '../../../../../config/server';\r\n\r\n\r\n\r\n\r\nclass Devices extends React.Component {\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.state = {\r\n\r\n      server: server.base(),\r\n      typeAction:'', // post - put - delete ...\r\n      onAction:'', // string method\r\n      status:'',\r\n\r\n    }\r\n\r\n    this.grid = {\r\n      columnDefs:[\r\n        {headerName: \"Serial No\", field: \"sn\",width:200},\r\n        {headerName: \"Device Name\", field: \"DeviceName\",width:330},\r\n        {headerName: \"Lock count \", field: \"LockCount\",width:140},\r\n        {headerName: \"Register Code\t\", field: \"registrycode\",width:200},\r\n        {headerName: \"Device Version\", field: \"FirmVer\",width:340}\r\n\r\n\r\n      ],\r\n      rowData: []\r\n    }\r\n\r\n\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n    const url = server.base()+'/pushapi/deviceServlet?type=1';\r\n    axios.post(url).then((responese)=>{\r\n      const res = responese.data ;\r\n      if(res.desc==='ok'){\r\n        this.grid.rowData = res.data ;\r\n\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n\r\n\r\n  _openDoor(json){\r\n\r\n    const url = server.base()+'/pushapi/createCmd?cmdType=userDefined&sn='+json.sn+'&originalCmd=CONTROL DEVICE 01010103';\r\n    toast.info('Đã mở khoá ');\r\n    axios.post(url).then((responese)=>{\r\n      const res = responese.data ;\r\n\r\n      toast.info('Khoá đã đóng : '+json.sn);\r\n\r\n      /*if(res.desc==='ok'){\r\n           toast.info('Đã mở khoá : '+json.sn);\r\n      }*/\r\n\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Table  className=\"table\" >\r\n\r\n              <thead style={{ border:0, background:'#222D32', color:'#fff' }} >\r\n                <tr>\r\n                  <th style={{width: 30}}>\r\n                      #\r\n                  </th>\r\n                  {\r\n                    this.grid.columnDefs.map((item,index)=>{\r\n                      return(\r\n                        <th key={index} style={{\r\n                          width: item.width\r\n                        }} > { item.headerName } </th>\r\n                      )\r\n                    })\r\n                  }\r\n                  <th style={{width: 180}}>\r\n                    Operation\r\n                  </th>\r\n\r\n\r\n                </tr>\r\n              </thead>\r\n\r\n              <tbody style={{height: '74vh'}}>\r\n                {\r\n                  this.grid.rowData.map((item,index)=>{\r\n\r\n                    let stt = index + 1 ;\r\n                    return(\r\n                      <tr key={index}>\r\n                        <td style={{width: 30}}>\r\n                          { stt }\r\n                        </td>\r\n                        {\r\n                          this.grid.columnDefs.map((item2,index2)=>{\r\n                              return(\r\n                                <td key={index2} style={{\r\n                                  width: item2.width+'px'\r\n                                }}> { item[item2['field']] }\r\n\r\n                                </td>\r\n                              )\r\n                          })\r\n                        }\r\n                        <td style={{width: 140}}>\r\n                          <ButtonGroup>\r\n                              <Button onClick={ ()=>{ this._openDoor(item) } } className=\"btn btn-sm btn-success\"><i className=\"fa fa-unlock mr-5\" /> Remote Open </Button>\r\n                          </ButtonGroup>\r\n                        </td>\r\n                      </tr>\r\n                    )\r\n                  })\r\n                }\r\n\r\n              </tbody>\r\n\r\n\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default Devices;\r\n"]},"metadata":{},"sourceType":"module"}