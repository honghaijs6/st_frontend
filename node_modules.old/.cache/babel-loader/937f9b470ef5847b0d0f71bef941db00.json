{"ast":null,"code":"import { preLoad } from '../before';\nimport axios from 'axios';\nimport server from '../../config/server'; // info = {email:'',password:''}\n\nvar doLogin = function doLogin() {\n  var email = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var password = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return new Promise(function (resolve, reject) {\n    var url = server.base() + '/authentication';\n    var data = {\n      \"strategy\": \"local\",\n      \"email\": email,\n      \"password\": password\n    };\n    preLoad('post');\n    axios.post(url, data).then(function (res) {\n      preLoad('stop');\n\n      if (res.data !== undefined) {\n        resolve({\n          token: res.data.accessToken\n        });\n      }\n\n      resolve(res);\n    }, function (error) {\n      preLoad('stop');\n      resolve({\n        token: 'no-key'\n      });\n    });\n  });\n};\n\nexport default doLogin;","map":{"version":3,"sources":["D:/actions/st_frontend/src/hook/ultil/doLogin.js"],"names":["preLoad","axios","server","doLogin","email","password","Promise","resolve","reject","url","base","data","post","then","res","undefined","token","accessToken","error"],"mappings":"AACA,SAAQA,OAAR,QAAsB,WAAtB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB,C,CAKA;;AACA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAwB;AAAA,MAAvBC,KAAuB,uEAAjB,EAAiB;AAAA,MAAdC,QAAc,uEAAL,EAAK;AAGpC,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAASC,MAAT,EAAkB;AAEjC,QAAMC,GAAG,GAAGP,MAAM,CAACQ,IAAP,KAAc,iBAA1B;AAEA,QAAMC,IAAI,GAAG;AACT,kBAAW,OADF;AAET,eAAQP,KAFC;AAGT,kBAAWC;AAHF,KAAb;AAMAL,IAAAA,OAAO,CAAC,MAAD,CAAP;AAEAC,IAAAA,KAAK,CAACW,IAAN,CAAWH,GAAX,EAAeE,IAAf,EACGE,IADH,CACQ,UAACC,GAAD,EAAO;AAEXd,MAAAA,OAAO,CAAC,MAAD,CAAP;;AAEA,UAAGc,GAAG,CAACH,IAAJ,KAAaI,SAAhB,EAA0B;AACtBR,QAAAA,OAAO,CAAC;AACJS,UAAAA,KAAK,EAACF,GAAG,CAACH,IAAJ,CAASM;AADX,SAAD,CAAP;AAGH;;AAEDV,MAAAA,OAAO,CAACO,GAAD,CAAP;AAED,KAbH,EAaI,UAACI,KAAD,EAAS;AAETlB,MAAAA,OAAO,CAAC,MAAD,CAAP;AAEAO,MAAAA,OAAO,CAAC;AACJS,QAAAA,KAAK,EAAC;AADF,OAAD,CAAP;AAKP,KAtBG;AAwBH,GApCM,CAAP;AAsCH,CAzCD;;AA2CA,eAAeb,OAAf","sourcesContent":["\r\nimport {preLoad} from '../before' ; \r\n\r\nimport axios from 'axios';\r\nimport server from '../../config/server';\r\n\r\n\r\n\r\n\r\n// info = {email:'',password:''}\r\nconst doLogin = (email='',password='')=>{\r\n    \r\n\r\n    return new Promise((resolve,reject)=>{\r\n\r\n        const url = server.base()+'/authentication';\r\n        \r\n        const data = {\r\n            \"strategy\":\"local\",\r\n            \"email\":email,\r\n            \"password\":password\r\n        }\r\n        \r\n        preLoad('post');\r\n\r\n        axios.post(url,data)\r\n          .then((res)=>{\r\n            \r\n            preLoad('stop'); \r\n\r\n            if(res.data !== undefined){\r\n                resolve({\r\n                    token:res.data.accessToken\r\n                });\r\n            }\r\n\r\n            resolve(res);\r\n\r\n          },(error)=>{\r\n\r\n            preLoad('stop'); \r\n            \r\n            resolve({\r\n                token:'no-key'\r\n            });\r\n            \r\n\r\n    });\r\n\r\n    })\r\n\r\n}\r\n\r\nexport default doLogin;\r\n"]},"metadata":{},"sourceType":"module"}