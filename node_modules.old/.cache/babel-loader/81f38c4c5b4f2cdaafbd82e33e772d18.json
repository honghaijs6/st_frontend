{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\Order\\\\Setting\\\\settingOrderPage\\\\index.js\";\n// HOOKS \nimport doGetModelInfo from '../../../../hook/ultil/doGetModelInfo';\nimport doUpdateModelInfo from '../../../../hook/ultil/doUpdateModelInfo';\nimport { MAU_QUOTATION, MAU_ORDER } from '../../../../config/temp-code';\nimport React, { Component } from 'react';\nimport { Col, FormGroup, Input, Label, Button } from 'reactstrap';\nimport BenTabs from '../../../../components/BenTabs';\nimport PreviewForm from './PreviewForm';\n\nvar SettingOrderPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SettingOrderPage, _Component);\n\n  function SettingOrderPage(props) {\n    var _this;\n\n    _classCallCheck(this, SettingOrderPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SettingOrderPage).call(this, props));\n\n    _this._previewForm = function (type) {\n      _this.setState({\n        type: type,\n        isOpenForm: true\n      });\n    };\n\n    _this.state = {\n      typeAction: '',\n      // post - put - delete ...\n      onAction: '',\n      // string method\n      status: '',\n      // status\n      tab: 'settingOrderPage',\n      isIniData: false,\n      isOpenForm: false,\n      type: 'quotation_temp',\n      quotation_temp: '',\n      order_temp: '',\n      companyInfo: {},\n      onTab: 'quotation',\n      tabs: [{\n        icon: '',\n        code: 'quotation',\n        name: 'Báo giá'\n      }, {\n        icon: '',\n        code: 'order',\n        name: 'Đơn hàng'\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(SettingOrderPage, [{\n    key: \"_defaultTemplate\",\n    value: function _defaultTemplate(type) {\n      var arr = {\n        quotation_temp: MAU_QUOTATION,\n        order_temp: MAU_ORDER\n      };\n      this.setState(_defineProperty({}, type, arr[type]));\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function () {\n      var _componentWillReceiveProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(newProps) {\n        var info, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(newProps.onTab === this.state.tab)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return doGetModelInfo('companies', window.USERINFO.company_id);\n\n              case 3:\n                info = _context.sent;\n\n                if (info.name === 'success') {\n                  data = info.data;\n                  this.setState({\n                    companyInfo: info.data,\n                    quotation_temp: data.quotation_temp || MAU_QUOTATION,\n                    order_temp: data.order_temp || MAU_ORDER\n                  });\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentWillReceiveProps(_x) {\n        return _componentWillReceiveProps.apply(this, arguments);\n      }\n\n      return componentWillReceiveProps;\n    }()\n  }, {\n    key: \"_onSubmit\",\n    value: function () {\n      var _onSubmit2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(field) {\n        var data, res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                // quotation_temp - order_temp\n                data = _defineProperty({\n                  id: this.state.companyInfo.id\n                }, field, this.state[field]);\n                _context2.next = 3;\n                return doUpdateModelInfo('companies', data);\n\n              case 3:\n                res = _context2.sent;\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _onSubmit(_x2) {\n        return _onSubmit2.apply(this, arguments);\n      }\n\n      return _onSubmit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        hidden: this.props.onTab === this.state.tab ? false : true,\n        style: {\n          background: '#E4E5E6',\n          height: '94vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          padding: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"text-uppercase\",\n        style: {\n          marginBottom: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \" C\\u1EA5u h\\xECnh \\u0111\\u01A1n h\\xE0ng \"), React.createElement(PreviewForm, {\n        name: \"Xem tr\\u01B0\\u1EDBc\",\n        type: this.state.type,\n        width: \"72%\",\n        isOpen: this.state.isOpenForm,\n        onToggle: function onToggle(isOpen) {\n          _this2.setState({\n            isOpenForm: isOpen\n          });\n        },\n        quotation_temp: this.state.quotation_temp,\n        order_temp: this.state.order_temp,\n        companyInfo: this.state.companyInfo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(BenTabs, {\n        onChangeTab: function onChangeTab(code) {\n          _this2.setState({\n            onTab: code\n          });\n        },\n        tabs: this.state.tabs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tab-pane  \".concat(this.state.onTab === 'quotation' ? 'active' : '', \" \"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \" M\\u1EABu hi\\u1EC3n th\\u1ECB b\\xE1o gi\\xE1 \"), React.createElement(\"span\", {\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: function onClick() {\n          _this2._previewForm('quotation_temp');\n        },\n        className: \"txt-green pull-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-search-plus mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), \"    Xem tr\\u01B0\\u1EDBc\"), React.createElement(\"span\", {\n        onClick: function onClick() {\n          _this2._defaultTemplate('quotation_temp');\n        },\n        className: \"pointer pull-right mr-20 text-red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-file-code-o mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), \" Template m\\u1EB7c \\u0111\\u1ECBnh\"), React.createElement(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(Input, {\n        onChange: function onChange(e) {\n          _this2.setState({\n            quotation_temp: e.target.value\n          });\n        },\n        value: this.state.quotation_temp,\n        type: \"textarea\",\n        style: {\n          height: 400,\n          background: '#2F353A',\n          color: '#f1f1f1'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      })))), React.createElement(FormGroup, {\n        row: true,\n        style: {\n          marginTop: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: function onClick() {\n          _this2._onSubmit('quotation_temp');\n        },\n        className: \"btn btn-ubuntu bg-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa  fa-chevron-circle-right mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), \" C\\u1EADp nh\\u1EADt\"), React.createElement(\"span\", {\n        className: \"form-err text-red\",\n        id: \"form-err\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"tab-pane  \".concat(this.state.onTab === 'order' ? 'active' : '', \" \"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \" M\\u1EABu hi\\u1EC3n th\\u1ECB \\u0110\\u01A1n h\\xE0ng \"), React.createElement(\"span\", {\n        style: {\n          cursor: 'pointer'\n        },\n        onClick: function onClick() {\n          _this2._previewForm('order_temp');\n        },\n        className: \"txt-green pull-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-search-plus mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), \"    Xem tr\\u01B0\\u1EDBc\"), React.createElement(\"span\", {\n        onClick: function onClick() {\n          _this2._defaultTemplate('order_temp');\n        },\n        className: \"pointer pull-right mr-20 text-red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-file-code-o mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }), \" Template m\\u1EB7c \\u0111\\u1ECBnh\"), React.createElement(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(Input, {\n        onChange: function onChange(e) {\n          _this2.setState({\n            order_temp: e.target.value\n          });\n        },\n        value: this.state.order_temp,\n        type: \"textarea\",\n        style: {\n          height: 400,\n          background: '#2F353A',\n          color: '#f1f1f1'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      })))), React.createElement(FormGroup, {\n        row: true,\n        style: {\n          marginTop: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: function onClick() {\n          _this2._onSubmit('order_temp');\n        },\n        className: \"btn btn-ubuntu bg-green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa  fa-chevron-circle-right mr-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }), \" C\\u1EADp nh\\u1EADt\"), React.createElement(\"span\", {\n        className: \"form-err text-red\",\n        id: \"form-err\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return SettingOrderPage;\n}(Component);\n\nexport default SettingOrderPage;","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/Order/Setting/settingOrderPage/index.js"],"names":["doGetModelInfo","doUpdateModelInfo","MAU_QUOTATION","MAU_ORDER","React","Component","Col","FormGroup","Input","Label","Button","BenTabs","PreviewForm","SettingOrderPage","props","_previewForm","type","setState","isOpenForm","state","typeAction","onAction","status","tab","isIniData","quotation_temp","order_temp","companyInfo","onTab","tabs","icon","code","name","arr","newProps","window","USERINFO","company_id","info","data","field","id","res","background","height","padding","marginBottom","isOpen","cursor","_defaultTemplate","marginTop","e","target","value","color","_onSubmit"],"mappings":"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","sourcesContent":["\r\n// HOOKS \r\nimport doGetModelInfo from '../../../../hook/ultil/doGetModelInfo';\r\nimport doUpdateModelInfo from '../../../../hook/ultil/doUpdateModelInfo'; \r\n\r\n\r\n\r\nimport { MAU_QUOTATION, MAU_ORDER } from '../../../../config/temp-code'\r\n\r\nimport React, { Component } from 'react';\r\nimport {  Col, FormGroup, Input, Label, Button } from 'reactstrap';\r\n\r\n\r\nimport BenTabs from '../../../../components/BenTabs';\r\nimport PreviewForm from './PreviewForm';\r\n\r\nclass SettingOrderPage extends Component{\r\n\r\n    \r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            typeAction:'', // post - put - delete ...\r\n            onAction:'', // string method\r\n            status:'', // status\r\n            \r\n            tab:'settingOrderPage',\r\n            isIniData:false,\r\n\r\n            isOpenForm:false,\r\n            type:'quotation_temp',\r\n            quotation_temp: '' ,\r\n            order_temp: '' ,\r\n            \r\n            companyInfo:{},\r\n            onTab:'quotation',\r\n            tabs:[\r\n                { icon:'',code:'quotation',name:'Báo giá' },\r\n                { icon:'',code:'order',name:'Đơn hàng' }\r\n            ],\r\n\r\n        }\r\n    } \r\n\r\n    _defaultTemplate(type){\r\n        const arr = {\r\n            quotation_temp:MAU_QUOTATION,\r\n            order_temp:MAU_ORDER\r\n        };\r\n\r\n        this.setState({\r\n            [type]:arr[type]\r\n        });\r\n\r\n\r\n    }\r\n    _previewForm = (type)=>{\r\n        this.setState({\r\n            type:type,\r\n            isOpenForm:true\r\n        });\r\n    }\r\n\r\n\r\n    async componentWillReceiveProps(newProps){\r\n        if(newProps.onTab===this.state.tab){\r\n            const info = await doGetModelInfo('companies',window.USERINFO.company_id);\r\n            if(info.name==='success'){\r\n\r\n                const data = info.data;\r\n                \r\n                this.setState({\r\n                    companyInfo:info.data,\r\n                    quotation_temp:data.quotation_temp || MAU_QUOTATION,\r\n                    order_temp:data.order_temp || MAU_ORDER,\r\n                    \r\n                });\r\n\r\n            }\r\n        }\r\n    }\r\n    \r\n    async _onSubmit(field){\r\n        // quotation_temp - order_temp\r\n        const data = {\r\n            id:this.state.companyInfo.id,\r\n            [field]:this.state[field]\r\n        }\r\n\r\n        const res =  await doUpdateModelInfo('companies',data) ;\r\n\r\n\r\n    }\r\n    render(){\r\n\r\n        return(\r\n            <div hidden={  this.props.onTab === this.state.tab ? false : true } style={{background:'#E4E5E6' , height:'94vh' }}>\r\n                <div style={{padding:40}}>\r\n                    <h4 className=\"text-uppercase\" style={{marginBottom:20}}> Cấu hình đơn hàng </h4>\r\n\r\n                    <PreviewForm \r\n                        \r\n                        name=\"Xem trước\"\r\n                        type={this.state.type}\r\n\r\n                        width=\"72%\"\r\n                        isOpen={this.state.isOpenForm}\r\n                        onToggle={(isOpen)=>{ this.setState({isOpenForm:isOpen}) }} \r\n\r\n                        quotation_temp={ this.state.quotation_temp } \r\n                        order_temp={ this.state.order_temp } \r\n\r\n\r\n                        companyInfo={this.state.companyInfo}\r\n                    />\r\n                    <BenTabs \r\n                        onChangeTab={(code)=>{ this.setState({onTab:code}) }} \r\n                        tabs={ this.state.tabs }\r\n                    >\r\n                        {/* TAB QUOTATION */}\r\n                        <div className={  `tab-pane  ${ this.state.onTab==='quotation'?'active':'' } ` }>\r\n                            \r\n                            <FormGroup row>\r\n                                <Col md={12}>\r\n                                    <Label> Mẫu hiển thị báo giá </Label>\r\n                                    \r\n                                    \r\n                                    <span style={{cursor:'pointer'}} onClick={()=>{ this._previewForm('quotation_temp') }} className=\"txt-green pull-right\">  \r\n                                        <i className=\"fa fa-search-plus mr-5\"></i>    Xem trước \r\n                                    </span>\r\n\r\n                                    <span onClick={()=>{ this._defaultTemplate('quotation_temp') }} className=\"pointer pull-right mr-20 text-red\">  \r\n                                        <i className=\"fa fa-file-code-o mr-5\"></i> Template mặc định\r\n                                    </span>\r\n\r\n                                    <div style={{marginTop:10}}>\r\n                                        <Input \r\n                                            onChange={(e)=>{ this.setState({quotation_temp:e.target.value}) }}    \r\n                                            value={ this.state.quotation_temp }\r\n                                            type=\"textarea\" style={{\r\n                                            height:400,\r\n                                            background:'#2F353A',\r\n                                            color:'#f1f1f1'\r\n\r\n                                        }} />\r\n                                    </div>\r\n\r\n                                </Col>\r\n                                \r\n                            </FormGroup>\r\n                            <FormGroup row style={{marginTop:40}}>\r\n                                <Col md={12}>\r\n                                    <Button onClick={ ()=>{ this._onSubmit('quotation_temp') } } className=\"btn btn-ubuntu bg-green\"> \r\n                                        <i className=\"fa  fa-chevron-circle-right mr-5\"></i> Cập nhật \r\n                                    </Button>        \r\n                                    <span className=\"form-err text-red\" id=\"form-err\"></span>\r\n                                </Col>\r\n                            </FormGroup>\r\n                        </div>\r\n\r\n                        {/* END QUOTATION */}\r\n\r\n                        {/* TAB ORDER */}\r\n                        <div className={  `tab-pane  ${ this.state.onTab==='order'?'active':'' } ` }>\r\n                            <FormGroup row>\r\n                                <Col md={12}>\r\n                                    <Label> Mẫu hiển thị Đơn hàng </Label>\r\n                                    \r\n\r\n                                    <span style={{cursor:'pointer'}} onClick={()=>{ this._previewForm('order_temp') }} className=\"txt-green pull-right\">  \r\n                                        <i className=\"fa fa-search-plus mr-5\"></i>    Xem trước \r\n                                    </span>\r\n\r\n                                    <span onClick={()=>{ this._defaultTemplate('order_temp') }} className=\"pointer pull-right mr-20 text-red\">  \r\n                                        <i className=\"fa fa-file-code-o mr-5\"></i> Template mặc định\r\n                                    </span>\r\n\r\n                                    <div style={{marginTop:10}}>\r\n                                        <Input \r\n                                            onChange={(e)=>{ this.setState({order_temp:e.target.value}) }}    \r\n                                            value={ this.state.order_temp }\r\n                                            type=\"textarea\" style={{\r\n                                            height:400,\r\n                                            background:'#2F353A',\r\n                                            color:'#f1f1f1'\r\n                                        }} />\r\n                                    </div>\r\n\r\n                                </Col>\r\n                                \r\n                            </FormGroup>\r\n                            <FormGroup row style={{marginTop:40}}>\r\n                                <Col md={12}>\r\n                                    <Button onClick={ ()=>{ this._onSubmit('order_temp') } } className=\"btn btn-ubuntu bg-green\"> \r\n                                        <i className=\"fa  fa-chevron-circle-right mr-5\"></i> Cập nhật \r\n                                    </Button>        \r\n                                    <span className=\"form-err text-red\" id=\"form-err\"></span>\r\n                                </Col>\r\n                            </FormGroup>\r\n                        </div>\r\n\r\n                        {/* END ORDER */}\r\n                        \r\n\r\n\r\n                    </BenTabs>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SettingOrderPage; "]},"metadata":{},"sourceType":"module"}