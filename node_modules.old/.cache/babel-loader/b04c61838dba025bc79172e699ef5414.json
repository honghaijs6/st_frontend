{"ast":null,"code":"import _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\Inventory\\\\Po\\\\ProgressForm.js\";\nimport { PURCHASE_STATUS } from '../../../config/app.config';\nimport React, { Component } from 'react';\nimport { Button } from 'reactstrap';\nimport ViewModal from '../../../components/ViewModal';\nimport BenProcess from '../../../components/BenProcess';\n\nvar ProgressForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProgressForm, _Component);\n\n  function ProgressForm(props) {\n    var _this;\n\n    _classCallCheck(this, ProgressForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProgressForm).call(this, props));\n    _this.state = {\n      status: 0,\n      originStatus: 0,\n      PURCHASE_STATUS: PURCHASE_STATUS,\n      actionName: ''\n    };\n    _this._closeForm = _this._closeForm.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this._onSubmit = _this._onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ProgressForm, [{\n    key: \"getOrderStatus\",\n    value: function getOrderStatus(status) {\n      this.state.PURCHASE_STATUS.map(function (item, index) {\n        if (index === status) {\n          item['active'] = true;\n        } else {\n          delete item.active;\n        }\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      var status = newProps.data.status || 0;\n      this.getOrderStatus(status);\n      this.setState({\n        originStatus: status,\n        status: status,\n        actionName: PURCHASE_STATUS[status]['action']\n      });\n    }\n  }, {\n    key: \"_closeForm\",\n    value: function _closeForm() {\n      document.querySelector('.close').click();\n    }\n  }, {\n    key: \"_onSubmit\",\n    value: function _onSubmit() {\n      var _this2 = this;\n\n      var status = this.state.originStatus;\n      var mustBe = parseInt(status) + 1;\n      var data = {\n        id: this.props.data.id,\n        status: mustBe\n      };\n      this.props.model.putCustom('progress', data, function (res) {\n        if (res.name === 'success' || res.name === 'ok') {\n          _this2.props.onSubmit(res);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(ViewModal, Object.assign({}, this.props, {\n        onToggle: function onToggle(isOpen) {\n          _this3.props.onToggle(isOpen);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          padding: '40px 20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \" Tr\\u1EA1ng th\\xE1i ti\\u1EBFn tr\\xECnh \"), React.createElement(BenProcess, {\n        type: \"po\",\n        status: this.state.status,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          borderTop: '1px solid #eee',\n          padding: '20px 0px',\n          margin: '0px 20px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this._onSubmit,\n        className: \"btn btn-ubuntu\",\n        style: {\n          background: PURCHASE_STATUS[this.state.status]['color']\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: 'fa mr-5 ' + PURCHASE_STATUS[this.state.status]['icon'],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), \" \", PURCHASE_STATUS[this.state.status]['action'])));\n    }\n  }]);\n\n  return ProgressForm;\n}(Component);\n\nProgressForm.defaultProps = {\n  onToggle: function onToggle() {},\n  onSubmit: function onSubmit() {}\n};\nexport default ProgressForm;","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/Inventory/Po/ProgressForm.js"],"names":["PURCHASE_STATUS","React","Component","Button","ViewModal","BenProcess","ProgressForm","props","state","status","originStatus","actionName","_closeForm","bind","_onSubmit","map","item","index","active","newProps","data","getOrderStatus","setState","document","querySelector","click","mustBe","parseInt","id","model","putCustom","res","name","onSubmit","isOpen","onToggle","padding","borderTop","margin","background","defaultProps"],"mappings":"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","sourcesContent":["import { PURCHASE_STATUS } from '../../../config/app.config'\r\n\r\nimport React, { Component } from 'react';\r\nimport { Button } from 'reactstrap'; \r\n\r\n\r\nimport ViewModal from '../../../components/ViewModal';\r\nimport BenProcess from '../../../components/BenProcess'; \r\n\r\n\r\n\r\nclass ProgressForm extends Component {\r\n    \r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            status:0,\r\n            originStatus:0,\r\n            PURCHASE_STATUS:PURCHASE_STATUS,\r\n            actionName:''\r\n        };\r\n\r\n\r\n        this._closeForm = this._closeForm.bind(this);\r\n        this._onSubmit = this._onSubmit.bind(this);\r\n\r\n    }\r\n\r\n    getOrderStatus(status){\r\n        \r\n        this.state.PURCHASE_STATUS.map((item,index)=>{\r\n            if(index===status){\r\n                item['active'] = true \r\n            }else{\r\n                delete item.active\r\n            }                                                              \r\n        });\r\n        \r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n\r\n        const status = newProps.data.status || 0 ;\r\n\r\n        this.getOrderStatus(status);\r\n\r\n        this.setState({\r\n            originStatus:status,\r\n            status:status,\r\n            actionName: PURCHASE_STATUS[status]['action']\r\n        });\r\n\r\n    }\r\n\r\n    _closeForm(){\r\n        document.querySelector('.close').click();\r\n    }\r\n\r\n    _onSubmit(){\r\n\r\n        const status = this.state.originStatus;\r\n        const mustBe = parseInt(status) + 1\r\n\r\n        let data = {\r\n            id:this.props.data.id,\r\n            status:mustBe\r\n        };\r\n        \r\n        this.props.model.putCustom('progress',data,(res)=>{\r\n            \r\n            if(res.name === 'success' || res.name==='ok'){\r\n                this.props.onSubmit(res);\r\n            }\r\n\r\n        });\r\n\r\n\r\n    }\r\n    \r\n    render() {\r\n        \r\n\r\n        return (\r\n            <ViewModal {...this.props} onToggle={(isOpen)=>{  this.props.onToggle(isOpen)}}  >\r\n\r\n                <div style={{\r\n                    padding:'40px 20px'\r\n                }}>\r\n                    <label> Trạng thái tiến trình </label>\r\n                    \r\n                    <BenProcess type=\"po\" status={ this.state.status } />      \r\n                    \r\n                </div>\r\n                \r\n                <div style={{borderTop:'1px solid #eee',padding:'20px 0px',margin:'0px 20px'}}>\r\n                    <Button onClick={this._onSubmit} className=\"btn btn-ubuntu\" style={{ background: PURCHASE_STATUS[this.state.status]['color'] }}  > \r\n                        <i className={'fa mr-5 '+PURCHASE_STATUS[this.state.status]['icon']}></i> { PURCHASE_STATUS[this.state.status]['action'] } \r\n                    </Button>\r\n                </div>\r\n                \r\n            </ViewModal>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nProgressForm.defaultProps = {\r\n    onToggle:()=>{},\r\n    onSubmit:()=>{}\r\n}\r\n\r\nexport default ProgressForm;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}