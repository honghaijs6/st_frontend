{"ast":null,"code":"import _defineProperty from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\actions\\\\st_frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\actions\\\\st_frontend\\\\src\\\\pages\\\\pages\\\\DemoTicket\\\\Components\\\\tabs\\\\FormTicket.js\";\n// HOOKS\nimport detectForm from '../../../../../hook/before/detectform';\nimport { myTime } from '../../../../../hook/ultil/myTime';\nimport moment from 'moment';\nimport React from 'react';\nimport { Col, FormGroup, Input, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport ViewModal from '../../../../../components/ViewModal';\nimport SelectList from '../../../../../components/SelectList';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nDate.prototype.addDays = function (days) {\n  this.setDate(this.getDate() + parseInt(days));\n  return this;\n};\n\nvar MyForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MyForm, _React$Component);\n\n  function MyForm(props) {\n    var _this;\n\n    _classCallCheck(this, MyForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MyForm).call(this, props));\n\n    _this._onSubmit = function () {\n      var fields = ['number_offer', 'value'];\n\n      if (detectForm(fields, _this.state) === '') {\n        var start = moment(_this.state.date_begin, \"YYYY-MM-DD\");\n        var end = moment(_this.state.date_finish, \"YYYY-MM-DD\");\n\n        var numDays = _this._calculateDay();\n\n        if (numDays > 0) {\n          _this.props.onSubmit(_this.state);\n        } else {\n          document.getSelection('#form-err').innerHTML = ' Please check your date begin - finish  ';\n        }\n      }\n    };\n\n    _this._onChange = function (field, value) {\n      document.querySelector('#form-err').innerHTML = '';\n\n      _this.setState(_defineProperty({}, field, value));\n    };\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(MyForm, [{\n    key: \"_resetForm\",\n    value: function _resetForm() {\n      var test = this.state.id !== undefined ? delete this.state.id : null;\n      return {\n        code: '',\n        value: 50,\n        number_offer: 5,\n        date_begin: new Date(myTime.curDateEn()),\n        date_finish: new Date(myTime.curDateEn()).addDays(30)\n      };\n    }\n  }, {\n    key: \"_calculateDay\",\n    value: function _calculateDay() {\n      var start = moment(this.state.date_begin, \"YYYY-MM-DD\");\n      var end = moment(this.state.date_finish, \"YYYY-MM-DD\");\n      return parseInt(moment.duration(end.diff(start)).asDays());\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      var state = this._resetForm();\n\n      if (newProps.typeAction === 'put') {\n        var data = newProps.data;\n        Object.assign(state, {\n          id: data.id,\n          code: data.code,\n          value: data.value,\n          number_offer: data.number_offer,\n          date_begin: new Date(moment(data.date_begin).format('YYYY-MM-DD')),\n          date_finish: new Date(moment(data.date_finish).format('YYYY-MM-DD'))\n        });\n      }\n\n      this.setState(state);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var valueTypes = ['%', '$'];\n      return React.createElement(ViewModal, Object.assign({\n        name: \"V\\xE9\"\n      }, this.props, {\n        isFooter: true,\n        onSubmit: this._onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"view-modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 8,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \" T\\u1EEB - \\u0110\\u1EBFn ng\\xE0y : \", React.createElement(\"span\", {\n        className: \"text-red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \" \", this._calculateDay(), \" days\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        selected: this.state.date_begin,\n        dateFormat: \"yyyy-MM-dd\",\n        className: \"input-datepicker-start\",\n        onChange: function onChange(value) {\n          _this2.setState({\n            date_begin: value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(DatePicker, {\n        selected: this.state.date_finish,\n        dateFormat: \"yyyy-MM-dd\",\n        className: \"input-datepicker-end\",\n        onChange: function onChange(value) {\n          _this2.setState({\n            date_finish: value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \" Lo\\u1EA1i \"), React.createElement(SelectList, {\n        defaultValue: \"nguoilon\",\n        onChange: function onChange(e) {\n          _this2._onChange('type', e.target.value);\n        },\n        rows: [{\n          code: 'nguoilon',\n          name: 'Người lớn'\n        }, {\n          code: 'treem',\n          name: 'Trẻ em'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        row: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \" S\\u1ED1 l\\u1EA7n cho ph\\xE9p \"), React.createElement(Input, {\n        id: \"number_offer\",\n        onChange: function onChange(e) {\n          _this2._onChange('number_offer', e.target.value);\n        },\n        defaultValue: this.state.number_offer,\n        min: 1,\n        max: 1000000,\n        type: \"number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \" Gi\\xE1 tr\\u1ECB \"), React.createElement(InputGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Input, {\n        onChange: function onChange(e) {\n          _this2._onChange('value', e.target.value);\n        },\n        type: \"number\",\n        min: \"0\",\n        max: \"100\",\n        defaultValue: this.state.value,\n        id: \"value\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(InputGroupAddon, {\n        addonType: \"append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(InputGroupText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \" $Xu \")))))));\n    }\n  }]);\n\n  return MyForm;\n}(React.Component);\n\nMyForm.defaultProps = {\n  data: {},\n  typeAction: 'post',\n  onSubmit: function onSubmit() {}\n};\nexport default MyForm;","map":{"version":3,"sources":["D:/actions/st_frontend/src/pages/pages/DemoTicket/Components/tabs/FormTicket.js"],"names":["detectForm","myTime","moment","React","Col","FormGroup","Input","InputGroup","InputGroupAddon","InputGroupText","ViewModal","SelectList","DatePicker","Date","prototype","addDays","days","setDate","getDate","parseInt","MyForm","props","_onSubmit","fields","state","start","date_begin","end","date_finish","numDays","_calculateDay","onSubmit","document","getSelection","innerHTML","_onChange","field","value","querySelector","setState","test","id","undefined","code","number_offer","curDateEn","duration","diff","asDays","newProps","_resetForm","typeAction","data","Object","assign","format","valueTypes","e","target","name","Component","defaultProps"],"mappings":"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","sourcesContent":["\r\n// HOOKS\r\nimport detectForm from '../../../../../hook/before/detectform'\r\nimport { myTime } from '../../../../../hook/ultil/myTime';\r\nimport moment from 'moment';\r\n\r\nimport React from 'react';\r\nimport {\r\n    Col, FormGroup, Input,\r\n    InputGroup,\r\n    InputGroupAddon,\r\n    InputGroupText,\r\n} from 'reactstrap';\r\n\r\n\r\nimport ViewModal from '../../../../../components/ViewModal';\r\nimport SelectList from '../../../../../components/SelectList';\r\n\r\nimport DatePicker from 'react-datepicker';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\n\r\n\r\nDate.prototype.addDays = function(days) {\r\n    this.setDate(this.getDate() + parseInt(days));\r\n    return this;\r\n};\r\n\r\n\r\nclass MyForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    _resetForm(){\r\n\r\n        const test = this.state.id !== undefined ? delete this.state.id : null;\r\n\r\n        return {\r\n            code:'',\r\n            value:50,\r\n            number_offer:5,\r\n            date_begin:new Date(myTime.curDateEn()),\r\n            date_finish:new Date(myTime.curDateEn()).addDays(30)\r\n        }\r\n    }\r\n\r\n    _onSubmit = ()=>{\r\n\r\n        const fields = ['number_offer','value'];\r\n        if(detectForm(fields,this.state)===''){\r\n\r\n            const start = moment(this.state.date_begin,\"YYYY-MM-DD\");\r\n            const end = moment(this.state.date_finish,\"YYYY-MM-DD\");\r\n            const numDays = this._calculateDay();\r\n            if(numDays>0){\r\n                this.props.onSubmit(this.state);\r\n            }else{ document.getSelection('#form-err').innerHTML = ' Please check your date begin - finish  '; }\r\n\r\n        }\r\n    }\r\n\r\n    _onChange = (field,value)=>{\r\n\r\n        document.querySelector('#form-err').innerHTML = '';\r\n        this.setState({\r\n            [field]:value\r\n        })\r\n    }\r\n\r\n    _calculateDay(){\r\n        const start = moment(this.state.date_begin,\"YYYY-MM-DD\");\r\n        const end = moment(this.state.date_finish,\"YYYY-MM-DD\");\r\n\r\n\r\n\r\n        return parseInt(moment.duration(end.diff(start)).asDays());\r\n\r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n\r\n        let state = this._resetForm();\r\n        if(newProps.typeAction==='put'){\r\n\r\n            const data = newProps.data;\r\n            Object.assign(state,{\r\n                id:data.id,\r\n                code:data.code,\r\n                value:data.value,\r\n                number_offer:data.number_offer,\r\n                date_begin: new Date( moment(data.date_begin).format('YYYY-MM-DD') ),\r\n                date_finish: new Date( moment(data.date_finish).format('YYYY-MM-DD') ),\r\n\r\n            })\r\n        }\r\n\r\n        this.setState(state);\r\n    }\r\n\r\n    render() {\r\n\r\n        const valueTypes = ['%','$'];\r\n        return (\r\n            <ViewModal name='Vé' {...this.props} isFooter={true} onSubmit={this._onSubmit} >\r\n                <div className=\"view-modal-body\">\r\n                    <FormGroup row>\r\n\r\n                        <Col md={8}>\r\n                            <label> Từ - Đến ngày : <span className=\"text-red\"> { this._calculateDay() } days</span></label>\r\n                            <div>\r\n                                <DatePicker\r\n                                    selected={ this.state.date_begin }\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"input-datepicker-start\"\r\n                                    onChange={(value)=>{ this.setState({date_begin:value}) }}\r\n                                />\r\n                                <DatePicker\r\n                                    selected={ this.state.date_finish }\r\n                                    dateFormat=\"yyyy-MM-dd\"\r\n                                    className=\"input-datepicker-end\"\r\n                                    onChange={(value)=>{ this.setState({date_finish:value}) }}\r\n                                />\r\n                            </div>\r\n\r\n                        </Col>\r\n                        <Col>\r\n                            <label> Loại </label>\r\n                            <SelectList defaultValue=\"nguoilon\" onChange={(e)=>{ this._onChange('type',e.target.value) }} rows={[\r\n                              { code:'nguoilon', name:'Người lớn'},\r\n                              { code:'treem', name:'Trẻ em'},\r\n\r\n                            ]} />\r\n                        </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup row>\r\n                        <Col md={6}>\r\n                            <label> Số lần cho phép </label>\r\n                            <Input\r\n                                id=\"number_offer\"\r\n                                onChange={(e)=>{ this._onChange('number_offer',e.target.value) }}\r\n                                defaultValue={this.state.number_offer} min={1} max={1000000} type=\"number\" />\r\n                        </Col>\r\n                        <Col md={6}>\r\n                            <label> Giá trị </label>\r\n                            <InputGroup>\r\n                                <Input\r\n                                    onChange={(e)=>{ this._onChange('value',e.target.value) }}\r\n                                    type=\"number\" min=\"0\" max=\"100\"\r\n                                    defaultValue={this.state.value} id=\"value\"\r\n                                />\r\n                                <InputGroupAddon addonType=\"append\">\r\n                                    <InputGroupText> $Xu </InputGroupText>\r\n                                </InputGroupAddon>\r\n                            </InputGroup>\r\n                        </Col>\r\n                    </FormGroup>\r\n\r\n                </div>\r\n            </ViewModal>\r\n        );\r\n    }\r\n}\r\n\r\nMyForm.defaultProps = {\r\n    data:{},\r\n    typeAction:'post',\r\n    onSubmit:()=>{}\r\n}\r\n\r\nexport default MyForm;\r\n"]},"metadata":{},"sourceType":"module"}